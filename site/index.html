


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>Arduitronicshub</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.a2408e81.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-arduitronicshub" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="Arduitronicshub" class="md-header-nav__button md-logo" aria-label="Arduitronicshub">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Arduitronicshub
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Home
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Arduitronicshub" class="md-nav__button md-logo" aria-label="Arduitronicshub">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Arduitronicshub
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#grove-beginner-kit-for-arduino-gk00001-arduitronicscom" class="md-nav__link">
    ศูนย์กลางคู่มือบอร์ด Grove Beginner Kit for Arduino (GK00001) โดย Arduitronics.com
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    ภาพรวมอุปกรณ์
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    รายการอุปกรณ์
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    เป้าหมายการเรียนรู้
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    เสียบสาย USB และดูการสาธิตการทำงาน
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arduino" class="md-nav__link">
    เริ่มต้นการใช้งาน Arduino ได้อย่างไร
  </a>
  
    <nav class="md-nav" aria-label="เริ่มต้นการใช้งาน Arduino ได้อย่างไร">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arduino-ide" class="md-nav__link">
    การติดตั้ง Arduino IDE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb_1" class="md-nav__link">
    การติดตั้งไดรเวอร์ของพอร์ต USB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arduino-ide_1" class="md-nav__link">
    เริ่มต้นใช้งาน Arduino IDE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    เนื้อหาบทเรียน
  </a>
  
    <nav class="md-nav" aria-label="เนื้อหาบทเรียน">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    บทเรียนที่ 1: ไฟแอลอีดีกระพริบ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    บทเรียนที่ 2: การใช้ปุ่มเพื่อควบคุมหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    บทเรียนที่ 3: การควบคุมความถี่ของการกระพริบ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    บทเรียนที่ 4: การทำให้บัซเซอร์ส่งเสียง
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    บทเรียนที่ 5:  ให้ความสว่างภายนอกเป็นตัวควบคุมความสว่างของหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lesson-6" class="md-nav__link">
    Lesson 6: ความเข้มเสียงควบคุมความสว่างของหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lesson-7-oled" class="md-nav__link">
    Lesson 7: แสดงบนจอโอแอลอีดี (OLED)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    บทเรียนที่ 8: ตรวจจับค่าอุณหภูมิและความชื้น
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    บทเรียนที่ 9: วัดความความดันอากาศ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    บทเรียนที่ 10: จับความเคลื่อนไหว
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-projects" class="md-nav__link">
    Bonus Projects
  </a>
  
    <nav class="md-nav" aria-label="Bonus Projects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-1-music-dynamic-rhythm-lamp" class="md-nav__link">
    Project 1: หลอดไฟสว่างตามเสียงเพลง (Music dynamic rhythm lamp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="License/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#grove-beginner-kit-for-arduino-gk00001-arduitronicscom" class="md-nav__link">
    ศูนย์กลางคู่มือบอร์ด Grove Beginner Kit for Arduino (GK00001) โดย Arduitronics.com
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    ภาพรวมอุปกรณ์
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    รายการอุปกรณ์
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    เป้าหมายการเรียนรู้
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    เสียบสาย USB และดูการสาธิตการทำงาน
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arduino" class="md-nav__link">
    เริ่มต้นการใช้งาน Arduino ได้อย่างไร
  </a>
  
    <nav class="md-nav" aria-label="เริ่มต้นการใช้งาน Arduino ได้อย่างไร">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arduino-ide" class="md-nav__link">
    การติดตั้ง Arduino IDE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb_1" class="md-nav__link">
    การติดตั้งไดรเวอร์ของพอร์ต USB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arduino-ide_1" class="md-nav__link">
    เริ่มต้นใช้งาน Arduino IDE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    เนื้อหาบทเรียน
  </a>
  
    <nav class="md-nav" aria-label="เนื้อหาบทเรียน">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    บทเรียนที่ 1: ไฟแอลอีดีกระพริบ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    บทเรียนที่ 2: การใช้ปุ่มเพื่อควบคุมหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    บทเรียนที่ 3: การควบคุมความถี่ของการกระพริบ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    บทเรียนที่ 4: การทำให้บัซเซอร์ส่งเสียง
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    บทเรียนที่ 5:  ให้ความสว่างภายนอกเป็นตัวควบคุมความสว่างของหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lesson-6" class="md-nav__link">
    Lesson 6: ความเข้มเสียงควบคุมความสว่างของหลอดแอลอีดี
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lesson-7-oled" class="md-nav__link">
    Lesson 7: แสดงบนจอโอแอลอีดี (OLED)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    บทเรียนที่ 8: ตรวจจับค่าอุณหภูมิและความชื้น
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    บทเรียนที่ 9: วัดความความดันอากาศ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    บทเรียนที่ 10: จับความเคลื่อนไหว
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-projects" class="md-nav__link">
    Bonus Projects
  </a>
  
    <nav class="md-nav" aria-label="Bonus Projects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-1-music-dynamic-rhythm-lamp" class="md-nav__link">
    Project 1: หลอดไฟสว่างตามเสียงเพลง (Music dynamic rhythm lamp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="welcome-to-arduitronicshub">Welcome to Arduitronicshub</h1>
<h2 id="grove-beginner-kit-for-arduino-gk00001-arduitronicscom">ศูนย์กลางคู่มือบอร์ด Grove Beginner Kit for Arduino (<a href="www.arduitronics.com/product/3553">GK00001</a>) โดย <a href="www.arduitronics.com">Arduitronics.com</a></h2>
<h2 id="_1">ภาพรวมอุปกรณ์</h2>
<p><img alt="Screenshot" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Parts.jpg" /></p>
<p><b>ขนาดของอุปกรณ์</b> - 17.69 * 11.64 * 1.88cm<br />
1. <a href="https://www.arduitronics.com/product3565"><b>Grove - Led</b></a>: โมดูลแอลอีดีพร้อมใช้งานได้สะดวก  <br/>
2. <a href="https://www.arduitronics.com/product/3566"><b>Grove - Buzzer</b></a>: โมดูลบัซเซอร์ (buzzer) <br/>
3. <b>Grove - OLED ขนาด 0.96 นิ้ว</b>: โมดูล OLED ขนาด 0.96 นิ้ว <br/>
4. <a href="https://www.arduitronics.com/product/3578"><b>Grove - ปุ่มกด</b></a>: โมดูลปุ่มกด (buzzer) <br/>
5. <a href="https://www.arduitronics.com/product/3562"><b>Grove - Rotary Potentiometer</b></a>: โมดูลตัวต้านทานปรับค่าได้แบบหมุน <br/>
6. <a href="https://www.arduitronics.com/product/3563"><b>Grove - Sound sensor</b></a>: โมดูลวัดเสียง <br/>
7. <a href="https://www.arduitronics.com/product/3564"><b>Grove - Light Sensor </b></a>: โมดูลวัดค่าแสง <br/>
8. <a href="https://www.arduitronics.com/product/3571"><b>Grove - Temperature and Humidity sensor</b></a>: โมดูลวัดอุณหภูมิและความชื้น<br/>
9. <b>Grove - Air Presure sensor</b>: โมดูลวัดความดันอากาศ <br/>
10. <b>Grove - 3-Axis Accelerator</b>: โมดูลวัดความเร่งของวัตถุ <br/>
11. <b>Seeeduino Lotus</b>: บอร์ด Arduino ของ Seeed studio ซึ่งมาพร้อมกับพอร์ดของ Grove <br/>  </p>
<p><b>หมายเหตุ</b>  อุปกรณ์ต่างๆ บนบอร์ดได้มีการต่อเชื่อมกับบอร์ด Seeeduino Lotus แล้วด้วยลายวงจรบนบอร์ด ดังนั้นไม่จำเป็นต้องเชื่อมต่อวงจรด้วยสายเคเบิ้ลของ Grove หากยังไม่ได้แยกอุปกรณ์ออกเป็นชื้นย่อยๆ  </p>
<p>ตำแหน่งการเชื่อมต่อบนลายวงจรมีดังต่อไปนี้  </p>
<table>
<thead>
<tr>
<th align="center">โมดูล</th>
<th align="center">วิธีการต่อเชื่อม</th>
<th align="center">ตำแหน่ง Pin /แอดเดรส</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">LED</td>
<td align="center">Digital</td>
<td align="center">D4</td>
</tr>
<tr>
<td align="center">Buzzer</td>
<td align="center">Digital</td>
<td align="center">D5</td>
</tr>
<tr>
<td align="center">OLED Display 0.96"</td>
<td align="center">I2C</td>
<td align="center">I2C, 0x78(default)</td>
</tr>
<tr>
<td align="center">Button</td>
<td align="center">Digital</td>
<td align="center">D6</td>
</tr>
<tr>
<td align="center">Rotary Potentiometer</td>
<td align="center">Analog</td>
<td align="center">A0</td>
</tr>
<tr>
<td align="center">Light</td>
<td align="center">Analog</td>
<td align="center">A6</td>
</tr>
<tr>
<td align="center">Sound</td>
<td align="center">Analog</td>
<td align="center">A2</td>
</tr>
<tr>
<td align="center">Temperature &amp; Humidity Sensor</td>
<td align="center">Digital</td>
<td align="center">D3</td>
</tr>
<tr>
<td align="center">Air Pressure Sensor</td>
<td align="center">I2C</td>
<td align="center">I2C, 0x77(default) / 0x76(optional)</td>
</tr>
<tr>
<td align="center">3-Axis Accelerator</td>
<td align="center">I2C</td>
<td align="center">I2C, 0x19(default)</td>
</tr>
</tbody>
</table>
<p><br/>
<strong>ข้อแนะนำในการตัดแยกโมดูลเป็นชิ้นย่อยๆ</strong>:<em>โปรดระมัดระวังในการใช้มีดตัด</em>
ในกรณีที่ต้องการใช้โมดูลต่างๆที่อยู่บนบอร์ดกับวงจรอื่นๆ สามารถใช้คัตเตอร์หรือมีดเพื่อตัดแยกแต่ละโมดูลออกจากกัน <br/></p>
<p><strong>ขั้นตอนที่ 1</strong></p>
<p>ใช้คัดเตอร์หรือมีดกรีดที่รอยบากของวงจรที่ทำไว้ให้</p>
<p><strong>ขั้นตอนที่ 2</strong></p>
<p>ค่อยๆ โยกแผ่นวงจรย่อยของโมดูลเพื่อให้หลุดออกจากกัน</p>
<h2 id="_2">รายการอุปกรณ์</h2>
<table>
<thead>
<tr>
<th>Modules</th>
<th align="center">Quantity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sensors</td>
<td align="center"></td>
</tr>
<tr>
<td>Temperature &amp; Humidity Sensors</td>
<td align="center">x1</td>
</tr>
<tr>
<td>3-Axis Accelerometers</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Air Pressure</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Light Sensor</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Sound Sensor</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Input Modules</td>
<td align="center"></td>
</tr>
<tr>
<td>Rotary Potentiometer</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Button</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Output Modules</td>
<td align="center"></td>
</tr>
<tr>
<td>LED</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Buzzer</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Display Module</td>
<td align="center"></td>
</tr>
<tr>
<td>OLED Display</td>
<td align="center">x1</td>
</tr>
<tr>
<td>Grove Cables</td>
<td align="center">x6</td>
</tr>
<tr>
<td>Micro USB Cable</td>
<td align="center">x1</td>
</tr>
</tbody>
</table>
<h2 id="_3"><br>เป้าหมายการเรียนรู้</h2>
<ul>
<li>พื้นฐานการใช้งานอุปกรณ์และระบบที่ใช้ซอฟต์แวร์โอเพนซอร์ซ</li>
<li>พื้นฐานการโปรแกรมบอร์ดตระกูล Arduino</li>
<li>หลักการสื่อสารระหว่างบอร์ดกับเซนเซอร์</li>
<li>การลงมือทดลองใช้งานอุปกรณ์และซอฟต์แวร์โอเพนซอร์ซ</li>
</ul>
<h2 id="usb">เสียบสาย USB และดูการสาธิตการทำงาน</h2>
<p>บอร์ดรุ่น Grove Kit <a href="https://www.arduitronics.com/product/3553">(GK00001)</a> มาพร้อมกับโปรแกรมที่ลงไว้จากโรงงาน โดยมีการสาธิตการทำงานของเซนเซอร์บนโมดูลต่างๆ  เพียงแค่แกะกล่องและเสียบสาย UBS ก็สามารถทดลองใช้งานเซนเซอร์ต่างๆได้  คุณสามารถเลือกการทำงานและปรับเปลี่ยนค่าเซนเซอร์ต่างๆบนบอร์ดได้โดยการใช้ปุ่มกด และโมดูลตัวต้านทานปรับค่าได้แบบหมุน <br/></p>
<p><img alt="" src="https://s3-us-west-2.amazonaws.com/files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Firmware.jpg" /></p>
<ul>
<li><strong>Scroll</strong> -&gt; ตัวต้านทานปรับค่าได้แบบหมุน (Rotating Rotary Potentiometer)</li>
<li><strong>Select</strong> -&gt; กดปุ่มสั้นๆแล้วปล่อย</li>
<li><strong>Exit Current Demo</strong> -&gt; กดปุ่มค้างแล้วปล่อย</li>
</ul>
<p>บัซเซอร์และแอลอีดีใช้แสดงความพร้อมรอรับคำสั่ง</p>
<h2 id="arduino">เริ่มต้นการใช้งาน Arduino ได้อย่างไร</h2>
<h3 id="arduino-ide">การติดตั้ง Arduino IDE</h3>
<ul>
<li><strong>Arduino IDE</strong> คือ ซอฟแวร์ที่รวบรวมเครื่องมือต่างๆ (การติอต่อกับ ฮาร์ดแวร์  การ Compile โปรแกรม  Editor ที่ใช้ในการเขียน Skecth  การทดสอบการทำงานของโปรแกรมที่พัฒนาขึ้นบนบอร์ด) ซื่งจำเป็นที่ต้องใช้ในการพัฒนาระบบไมโครคอนโทรลเลอร์</li>
<li>สามารถดาว์นโหลดโปรแกรม Arduino IDE <a href="https://www.arduino.cc/en/Main/Software">ได้ที่</a> โดยตุณสามารถเลือกใช้ตาม OS ของคุณ</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Seeeduino_Stalker_V3_1/images/Download_IDE.png" /></p>
<h3 id="usb_1">การติดตั้งไดรเวอร์ของพอร์ต USB</h3>
<ul>
<li>บอร์ด Arduino ติดต่อกับเครื่องพีซีผ่านเคเบิ่ลที่ใช้หัว USB รุ่นต่างๆ   ซึ่งไดรเวอร์ของหัว USB ที่ต้องติดตั้งนั้น ขึ้นกับชนิดของ Chip ที่ใช้บนบอร์ด Arduino ของคุณ  <em>หมายเหตุ: โดยปกติแล้วชนิดของชิบ USB จะถูกระบุไว้บนด้านหลังของตัวบอร์ด</em></li>
<li>ดาวน์โหลด <a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">ไดรเวอร์ของ USB รุ่น CP2102</a>. <strong>หมายเหตุ:</strong> โปรดเลือกตาม OS ที่คุณใช้</li>
<li>หลังจากติดตั้งไดรเวอร์สำเร็จแล้ว  ให้ต่อบอร์ด Arduino โดยใช้สายแลหัวต่อ USB เข้ากับเครื่องคอมพิวเตอร์</li>
<li><strong>สำหรับผู้ใช้ระบบปฏิบัติการ Windows</strong> คุณสามารถดูพอร์ตที่ติดตั้งได้จาก 'My Computer' -&gt; <code>Properties</code> -&gt; <code>Hardware</code> -&gt; <code>Device Management</code>  จะเห็น 'COM' และตัวเลขแสดงพอร์ต</li>
<li><strong>สำหรับผู้ใช้ Mac OS</strong>  คุณสามารถดูพอร์ตที่ติดตั้งได้จาก <code></code> ที่มุมบนด้านซ้าย และเลือก <code>About this Mac</code> -&gt; <code>System Report...</code> -&gt; <code>USB</code>. จะเห็น CP2102 USB Driver</li>
<li>กรณีที่ยังไม่ได้ติดตั้งไดรเวอร์  หรือ ติดตั้งไม่ถูกต้องกับ Chip ที่ใช้  จะเห็น "unknown device" ใน device manager  ให้ติดตั้งไดรเวอร์ใหม่</li>
</ul>
<h3 id="arduino-ide_1">เริ่มต้นใช้งาน Arduino IDE</h3>
<ol>
<li>เปิดโปรแกรม <strong>Arduino IDE</strong> บนเครื่อง PC ของคุณ</li>
<li>คลิ๊กเลือก <code>Tools</code> -&gt; <code>Board</code> เพื่อเลือกชนิดของบอร์ด  และเลือก <strong>Arduino/Genuino Uno</strong> เป็นบอร์ดที่คุณใช้<br/>
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/board.png" /><br/></li>
<li>คลิ๊ก <code>Tools</code> -&gt; <code>Port</code> เพื่อเลือก Port ที่ถูกต้อง (เลือกให้ตรงกับ Port ที่แสดงไว้ในขั้นตอนก่อนหน้า).  ในตัวอย่างนี้เลือก <code>COM6</code><br />
<strong>สำหรับผู้ใช้ Mac OS</strong> จะเป็น <code>/dev/cu.SLAB_USBtoUART</code>.
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/port.png" /><br/></li>
<li>สร้างไฟล์ใหม่และใช้ชื่อ <code>Hello.ino</code> จากนั้น copy โปรแกรมไปไว้ในไฟล์ที่สร้าง:<br/>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span> <span class="c1">// initializes the serial port with a baud rate of 9600</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello, world&quot;</span><span class="p">);</span> <span class="c1">// prints a string to a serial port</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//delay of 1 second</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table></li>
<li>ที่มุมด้านซ้ายบนของ Arduino IDE จะมีปุ่ม 2 ปุ่มได้แก่ <strong>Verify and Upload</strong>  ปุ่มแรก (✓) กดเพื่อคอมไพล์ หลังจากที่คอมไพล์ผ่านแล้วให้กดปุ่มอัพโหลดโปรแกรม (→)<br/>
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/func.png" /><br/></li>
<li>ไปที่เมนู <code>Tools</code> -&gt; <code>Serial Monitor</code> หรือกดปุ่ม <strong>Serial Monitor</strong> ที่มุมขวาบน (รูปแว่นขยาย) คุณสามารถดูหน้าจอแสดงผลการทำงานของโปรแกรม:<br/>
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/print.png" /><br/>
<strong>หมายเหตุ:</strong> หากคุณติตตั้งโปรแกรมของเราจาก <a href="https://www.seeedstudio.com/4GB-Plug-and-Go-USB-Flash-Driver-for-Grove-Beginner-Kit-All-Resources-Included-p-4547.html">USB drive ของ SeeedStudio</a> , จะมี  <strong>Files</strong> -&gt; <strong>Sketch Book</strong>, ไลบรารี่ทั้งหมดที่ต้องใช้
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Sketchbook.png" /><br />
<br/>
<strong>หมายเหตุ:</strong><br />
        โมดูลทุกตัวบนบอร์ดได้ถูกเชื่อมต่อบน PCB เข้ากับ Seeeduino ไว้แล้ว ไม่จำเป็นต้องต่อสาย หรือ บัดกรีเพิ่มเติม   อย่างไรก็ตามหากคุณได้ตัดแยกชิ้นออกจากกัน และต้องการทดลองโดยต่อสายเคเบิ้ล  โปรดศึกษาคู่มือการใช้งานของแต่ละโมดูล
<br/></li>
</ol>
<h2 id="_4">เนื้อหาบทเรียน</h2>
<p><br/></p>
<h3 id="1">บทเรียนที่ 1: ไฟแอลอีดีกระพริบ</h3>
<p><br/>
เราได้ทดลองโปรแกรม "Hello world" ไปแล้วก่อนหน้านี้  ตอนนี้เรามาทดลองการสั้งให้โมดูลแอลอีดีแสดงการกระพริบกัน   เราได้รู้จักองค์ประกอบพื้นฐานของการควบคุม ได้แก่ อินพุท การควบคุม และ เอาท์พุท  ในตัวอย่างแอลอีดีกระพริบนี้ จะเป็นการสั่งผ่านเอาท์พุทเท่านั้น ไม่มีการรับค่าอินพุท  โดยมี Seeeduino เป็นตัวควบคุมการทำงาน และแอลอีดีเป็นเอาท์พุท และสัญญาณที่ใช้เป็นสัญญาณดิจิทัล  การส่งสัญญาณในระดับ "สูง" จะทำให้แอลอีดีติดสว่าง<br/><br />
<font size=5;font color=#314B9F >ข้อมูลประกอบพื้นฐาน:</font>  </p>
<ul>
<li><strong>สัญญาณดิจิทัลคืออะไร?</strong></li>
</ul>
<p><strong>สัญญาณดิจิทัล:</strong> เป็นสัญญาณที่มีระดับแอมพลิจูดเป็นระดับไม่ต่อเนื่อง (Discrete) ค่าแอมพลิจูดมีระดับที่ตายตัว เลือกไว้แล้ว   ในการใช้งานกับบอร์ดควบคุมของเรา สัญญาณดิจิทัลถูกกำหนดให้มีค่าเป็น 2 ระดับ คือ 0 โวลต์ (ระดับต่ำ หรือ 0) และ 5 โวลต์ (ระดับสูง หรือ 1)<br />
<img alt="Alt text" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/digital.png" /><br />
- <font size=5;font color=#314B9F >อุปกรณ์ที่ต้องใช้ (มีให้ในชุด <a href="https://www.arduitronics.com/product/3553">GK00001</a>)</font>  </p>
<ol>
<li>บอร์ด Seeeduino Lotus  </li>
<li>Grove LED  </li>
<li>Grove Cable (หากแยกโมดูลเซนเซอร์ออกจากตัวบอร์ด)  </li>
</ol>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/LED.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F>การเชื่อมต่อฮาร์ดแวร์</font></p>
<ul>
<li><strong>เชื่อมต่อโมดูล</strong>  <ul>
<li>ต่อไว้แล้วโดยการเชื่อมต่อบนบอร์ด (ไม่ต้องทำอะไรเพิ่ม) หรือ  </li>
<li>เชื่อมต่อโดยใช้เคเบิ้ล  </li>
</ul>
</li>
</ul>
</li>
<li>
<p><font size=5;font color=#314B9F >ซอฟแวร์ที่ใช้</font><br />
        - เปิดโปรแกรม Arduino IDE <br/>
        - Copy โปรแกรมต่อไปนี้ เลือก Verify เพื่อตรวจสอบว่าทำงานได้หรือไม่ มีข้อผิดพลาดหรือไม่ จากนั้น Upload โปรแกรมลงที่บอร์ด</p>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//LED Blink</span>
<span class="c1">//The LED will turn on for one second and then turn off for one second</span>
<span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">setup</span><span class="p">(){</span>  
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>ทุกครั้งที่เริ่มต้นการทำงาน sketch ฟังก์ชั่น <code>setup()</code> จะถูกเรียกเพื่อทำงานก่อนเป็นลำดับแรก  ซึ่งจะรวบรวมส่วนที่เป็นการกำหนดค่าตัวแปร และค่าเริ่มต้นต่างๆ  การกำหนดโหมดการทำงานของ pin ที่ใช้  การเรียกใช้ Library เป็นต้น  ฟังก์ชั่น <code>setup()</code> จะทำงานเมื่อเริ่มต้นเพียงครั้งเดียวหลังจากที่จ่ายไฟเลี้ยงให้วงจร หรือ กดปุ่ม reset บนตัวบอร์ด</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">loop</span><span class="p">(){</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
หลังจากสร้างฟังก์ชั่น <code>setup()</code>ซึ่งจะตั้งและกำหนดค่าเริ่มต้น จากนั้นฟังก์ชั่น <code>loop()</code> จะทำงานวนลูปอย่างต่อเนื่อง ซึ่งจะทำงานตามโปรแกรมที่เขียนไว้เพื่อควบคุมการทำงานของบอร์ด</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>
<br/>
<strong>ลักษณะการทำงาน:</strong><br />
&emsp;แปลงค่าให้เป็นตัวแปรชนิด int</p>
<p><strong>Syntax:</strong><br />
&emsp; int(<strong>x</strong>) or (int)<strong>x</strong> (C-style type conversion)</p>
<p><strong>พารามิเตอร์:</strong><br />
&emsp; <strong>x</strong>: ตัวแปรที่ต้องการแปลงค่า  สามารถเป็นตัวแปรชนิดใด้ก็ได้</p>
<p>กำหนดค่าตัวแปรชนิดจำนวนเต็ม (integer) ให้มีค่าเท่ากับ 4 ในชื่อตัวแปร ledPin</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>
<br/>
<strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;กำหนดให้โหมดการทำงานของ pin มีลักษณะเป็นอินพุต หรือ เอาท์พุต  โปรดศึกษารายละเอียดการทำงานของ pin แบบดิจิทัลในรูปแบบต่รุ่นต่างๆ  </p>
<p>ตั้งแต่ Arduino 1.0.1 ตัวต้านทานภายในแบบพูลอัพ (pull-up resistor) สามารถเลือกได้โดยกำหนดเป็น <code>INPUT_PULLUP</code>  นอกจากนี้หากต้องการกำหนดให้ "ไม่ต้องใช้" "ตัวต้านทานภายนในแบบพูลอัพ สามารถทำได้โดยกำหนดเป็น <code>INPUT</code></p>
<p><strong>Syntax:</strong></p>
<p>&emsp;pinMode(<strong>pin, mode</strong>)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp; <strong>pin</strong>: คือ หมายเลข pin ของบอร์ดที่ต้องการกำหนดโหมดการทำงาน</p>
<p>&emsp; <strong>mode</strong>: <code>INPUT</code>, <code>OUTPUT</code>, หรือ <code>INPUT_PULLUP</code>.</p>
<p>กำหนด ledPin เป็นโหมดการทำงานแบบ output</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>
<br/>
<strong>ลักษณะการทำงาน:</strong></p>
<p>กำหนดค่า <code>HIGH</code> หรือ <code>LOW</code> ให้ pin แบบดิจิทัล
เมื่อ pin ถูกกำหนดโหมดเป็น OUTPUT โดยใช้ pinMode()  แรงดันจะมีค่า 5 V เมื่อกำหนดแบบ <code>HIGH</code> (หรือ 3.3 V บนบอร์ดที่มีแรงดันทำงานที่ 3.3 V เช่น NodeMCU) หรือ 0 V (กราวด์) เมื่อกำหนดแบบ <code>LOW</code>  </p>
<p>หาก pin ถูกกำหนดให้ใช้โหมด INPUT สามารถใช้คำสั่ง digitalWrite() เพื่อกำหนดให้มีแรงดันแบบ HIGH หรือ LOW  &emsp; ทั้งนี้แนะนำให้ใช้ pinMode() โดยกำหนด  <code>INPUT_PULLUP</code> เพื่อกำหนดใช้ตัวต้านทานภายในแบบพูลอัพ</p>
<p>หากยังไม่ได้กำหนด pinMode() เป็น OUTPUT แต่ได้ต่อหลอดแอลอีดีไว้ที่ pin &thinsp; เมื่อเลือก digitalWrite(HIGH) หลอดแอลอีดีอาจจะสว่างไม่เต็มที่ และหากไม่ได้กำหนด pinMode() ไว้ digitalWrite() จะกำหนดให้ตัวต้ตัวต้านทานภายในแบบพูลอัพทำงาน ซึ่งจะทำหน้าที่เหมือนตัวต้านทานที่จำกัดการไหลของกระแสขนาดใหญ่ (current-limiting resistor)</p>
<p><br/>
<strong>ลักษณะการทำงาน:</strong><br />
&emsp;digitalWrite(<strong>pin, value</strong>)  </p>
<p><strong>พารามิเตอร์:</strong><br />
&emsp;<strong>pin</strong>: หมายเลข pin บนบอร์ด Arduino<br />
&emsp;<strong>value</strong>: <code>HIGH</code> or <code>LOW</code>.</p>
<p>เมื่อกำหนดให้ ledPin ทำงานเป็น output  การกำหนดให้มีค่า HIGH จะทำให้หลอดแอลอีดีสว่าง</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>
เมื่อกำหนดให้ ledPin ทำงานเป็น output  การกำหนดให้มีค่า LOW จะทำให้หลอดแอลอีดีดับ</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>
<br/>
<strong>ลักษณะการทำงาน:</strong><br />
&emsp;หยุดการทำงานของโปรแกรมตามระยะเวลาที่กำหนดค่าพารามิเตอร์เป็นมิลลิวินาที (1000 มิลลิวินาทีเท่ากับ 1 วินาที)  </p>
<p><strong>Syntax:</strong>  </p>
<p>&emsp;delay(<strong>ms</strong>)  </p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp;<strong>ms</strong>: ตัวเลขกำหนดเวลาหน่วยมิลลิวินาที (ms): ตัวแปรชนิด unsigned long</p>
<p>หน่วงเวลา 1000 ms หรือ 1 วินาที  </p>
<p><strong>ผลการทำงานและการแสดงผลคำสั่ง serialPrint:</strong></p>
<p>&emsp;โมดูลหลอดแอลอีดีจะติดสลับกับดับอย่างละ 1 วินาที  </p>
<p><br/>
<strong>การปรับค่าความสว่างของหลอดแอลอีดี:</strong></p>
<div align=center><img src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/LED-res.jpeg"/></div>

<p></br></p>
<p>บนตัวโมดูลหลอดแอลอีดีจะมี <strong>ตัวต้านทานปรับค่าได้ซึ่งต้องปรับค่าโดยใช้ไขควงปากแฉก</strong> การบิดปรับค่าจะทำให้หลอดแอลอีดีสว่างขึ้น!  </p>
<p><br/>
- <font size=5;font color=#314B9F >เมื่อแยกโมดูลหลอดแอลอีดีออกจากตัวบอร์ดแล้ว</font></p>
<p>ในกรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่าง <strong>โมดูลหลอดแอลอีดี</strong> กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin <strong>D4</strong></p>
<hr />
<h3 id="2">บทเรียนที่ 2: การใช้ปุ่มเพื่อควบคุมหลอดแอลอีดี</h3>
<p>ก่อนอื่นต้องเข้าใจว่าสัญญาณขาเข้าจากปุ่มกดมีลักษณะเป็นสัญญาณดิจิทัล และมี 2 สถาวะ ได้แก่ 0 หรือ 1  ดังนั้นเราจึงต้องควบคุมการทำงานของเอาท์พุตต่างๆ จากปุ่มกดโดยเลือกจากสภาวะการทำงานเหล่านี้ <br/>  </p>
<p><strong>การปฏิบัติในบทเรียนนี้:</strong> ใช้ปุ่มกดเพื่อเปิด และปิด โมดูโมดูลหลอดแอลอีดี  <br/>  </p>
<p><font size=5;font color=#314B9F >อุปกรณ์ที่ต้องใช้ (มีให้ในชุด <a href="https://www.arduitronics.com/product/3553">GK00001</a>)</font>  </p>
<ol>
<li>Seeeduino Lotus</li>
<li>โมดูโมดูลหลอดแอลอีดี</li>
<li>โมดูลปุ่มกด</li>
<li>สายเคเบิ้ล (หากแยกโมดูลเซนเซอร์ออกจากตัวบอร์ด)</li>
</ol>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Button.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>รายละเอียดการใช้ฮาร์ดแวร์</strong>:</p>
<ul>
<li>Input: ปุ่มกด</li>
<li>Control: บอร์ด Seeeduino</li>
<li>Output: โมดูลหลอดแอลอีดี</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ทั้งเซนเซอร์และหลอดแอลอีดีใช้งานกับสัสัญญาณดิจิทัล ดังนั้นต่อเชื่อมต่อโดยใช้โหมดดิจิทัล</p>
<ul>
<li><strong>ซอฟแวร์ที่ใช้</strong>:<ul>
<li>เปิด Arduino IDE.</li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &emsp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Button to turn ON/OFF LED</span>
<span class="c1">//Constants won&#39;t change. They&#39;re used here to set pin numbers:</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">buttonPin</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>     <span class="c1">// the number of the pushbutton pin</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">;</span>      <span class="c1">// the number of the LED pin</span>
<span class="c1">// variables will change:</span>
<span class="kt">int</span> <span class="n">buttonState</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>         <span class="c1">// variable for reading the pushbutton status</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// initialize the LED pin as an output:</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
    <span class="c1">// initialize the pushbutton pin as an input:</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">buttonPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// read the state of the pushbutton value:</span>
<span class="n">buttonState</span> <span class="o">=</span> <span class="n">digitalRead</span><span class="p">(</span><span class="n">buttonPin</span><span class="p">);</span>

<span class="c1">// check if the pushbutton is pressed. If it is, the buttonState is HIGH:</span>
<span class="k">if</span> <span class="p">(</span><span class="n">buttonState</span> <span class="o">==</span> <span class="n">HIGH</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// turn LED on:</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="c1">// turn LED off:</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
      <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >วิเคราะห์การทำงานของโปรแกรม</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</code></pre></div>

<p>กำหนดให้หลอดแอลอีดีเป็นโหมด output</p>
<div class="highlight"><pre><span></span><code><span class="n">pinMode</span><span class="p">(</span><span class="n">buttonPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</code></pre></div>

<p>กำหนดให้ปุ่มกดเป็นโหมด Input</p>
<div class="highlight"><pre><span></span><code><span class="n">buttonState</span> <span class="o">=</span> <span class="n">digitalRead</span><span class="p">(</span><span class="n">buttonPin</span><span class="p">);</span>
</code></pre></div>

<p><br/>
<strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;อ่านค่าจากดิจิทัล pin ซึ่งจะมีค่าเป็น <code>HIGH</code> หรือ <code>LOW</code>.</p>
<p><strong>Syntax:</strong></p>
<p>&emsp;digitalRead(<strong>pin</strong>)</p>
<p><strong>Parameters:</strong></p>
<p>&emsp;<strong>pin</strong>: หมายเลข <code>pin</code> ที่ต้องการอ่านค่า</p>
<p><br/>
ใช้ฟังก์ชั่นนี้เพื่ออ่านค่อ่านค่าจากดิจิทัล pin ซึ่งมีค่า HIGH หรือ LOW เมื่อมีการกดปุ่ม จะได้สถาวะ HIGH  ถ้าไม่กดจะเป็น LOW</p>
<div class="highlight"><pre><span></span><code>  <span class="k">if</span> <span class="p">(</span><span class="n">buttonState</span> <span class="o">==</span> <span class="n">HIGH</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><br/>
<strong>ลักษณะการทำงาน:</strong>
&emsp;การใช้ if...else ทำให้การควบคุมการทำงานได้มากกว่าการใช้ If เพียงอย่างเดียว &emsp; นอกจากนี้ยังสามารถทดสอบเงื่อนไข (condition) การทำงานได้หลายเงื่อนไข โดยใช้ else if...  และหากไม่ตรงกับเงื่อนไขที่กำหนดไว้ใน if... และ else if...เลย จึงจะทำงานโดยโปรแกรมส่วนที่เขียนใน else ...</p>
<p>&emsp;การตรวจสอบเงื่อนไขแต่ละส่วนจะดำเนินไปตามลำดับ หากเงื่อนไขที่กำหนดไว้ไม่เป็นจริง (False) จะข้ามโปรแกรมในส่วนนั้นไป  และวนทำจนกว่าจะพบกับเงื่อนไขที่เป็นจริง (True) จากนั้นจะ run ตามเงื่อนไขในส่วนที่ต่อท้าย if() หรือ else if () นั้น หากไม่พบเงื่อนไขใดเลยที่เป็นจริง จะไป run ในส่วน else()</p>
<p>&emsp;ข้อสังเกตคือ การใช้งาน if()...else() นั้นสามารถเลือกลงท้ายด้วยการใช้ else() หรือ else if() เป็นท่อนสุดท้ายได้   และสามารถใช้ if... และตามด้วย else if() ได้โดยไม่จำกัดจำนวนครั้ง</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="n">condition1</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// do Thing A</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">condition2</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// do Thing B</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
<span class="c1">// do Thing C</span>
<span class="p">}</span>
</code></pre></div>

<p>&emsp;การใช้งานเงื่อนไขแบบ if ทำงานดังนี้:  หากเงื่อนไขที่กำหนดในวงเล็บหลัง <strong>if(...)</strong> "เป็นจริง" โปรแกรมในช่วงวงเล็บปีกกา {...} จะทำงาน   &emsp;หาก "เป็นเท็จ" โปรแกรมในช่วง <strong>else(...)</strong> จะทำงาน  &emsp;ดังนั้นจากเงื่อนไขในโปรแกรมที่เขียน ถ้าสภาวะของปุ่มกดเป็น HIGH จะทำให้ pin ที่ทำงานของหลอดแอลอีดีเป็น HIGH ด้วย หลอดจแอลอีดีจะสว่าง และในทางตรงข้าม หากสภาวะของปุ่มกดเป็น LOW หลอดแอลอีดีก็จะดับ</p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print</strong></p>
<p>&emsp;เมื่อกดปุ่ม หลอดแอลอีดีจะติดสว่าง</p>
<ul>
<li><font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></li>
</ul>
<p>กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่าง โมดูลหลอดแอลอีดี กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin <strong>D4</strong>  และต่อเชื่อมกับปุ่มกดที่ตำแหน่ง pin <strong>D6</strong></p>
<h3 id="3">บทเรียนที่ 3: การควบคุมความถี่ของการกระพริบ</h3>
<p><br/>
ในบทเรียนที่แล้ว เราได้ศึกษาการทำงานของปุ่มกด ซึ่งมีสภาวะการทำงานเพียง 2 แบบ คือ เปิด/ปิด ซึ่งมีค่าแรงดันเป็น 5 V หรือ 0 V &emsp;อย่างไรก็ตามในทางปฏิบัติเรามักต้องการใช้งานสภาวะที่หลากหลายมากกว่าแค่ 0 หรือ 5 V  ดังนั้นจึงจำเป็นต้องมีการรับค่าจากสัญญาณแอนะลอก!!  และการใช้งานตัวต้านทานปรับค่าได้แบบหมุน (Rotary Potentiometer) จึงเป็นตัวอย่างที่นิยมนำมาศึกษาเพื่อเรียนรู้การทำงานของสัทั้งนี้เนื่องจากตัวต้านทานปรับค่าได้แบบหมุนสร้างสัญญาณแบบแอนะลอก<br />
<br/></p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<ul>
<li><strong>สัญญาณแอนะลอกคืออะไร !!</strong></li>
</ul>
<p><strong>สัญญาณแอนะลอกคือ:</strong> สัญญาณที่มีค่าเปลี่ยนแปลงได้อย่าง "ต่อเนื่อง" ทั้งแอมพลิจูด ความถี่ และเฟส ตามเวลาที่เปลี่ยนผ่านไป  กล่าวอีกอย่างคือสัญญาณมีค่าเปลี่ยนไปได้แบบต่อเนื่องเมื่อเวลาเปลี่ยนไป &nbsp; ตัวอย่างของสัญญาณแอนะลอกคือ กระแสไฟฟ้า เสียง สัญญาณภาพ เป็นต้น  &nbsp; สัญญาณแบบไซนูซอยด์  สัญญาณรูปสามเหลี่ยม เป็นอีกตัวอย่างของสัญญาณแอนะลอก &nbsp; pin แบบแอนะลอกของบอร์ดไม่โครคอนโทรลเลอร์ของคุณมีค่าได้ระหว่าง 0 V ถึง 5 V โดยจะสั่งค่าได้ 1024 ขั้น ตั้งแต่ 0 ถึง 1023 &nbsp; โดย 0 หมายถึง 0 V  &nbsp;512 หมายถึง 2.5 V และ 1023 หมายถึง 5 V เป็นต้น</p>
<p><img alt="Alt text" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/analog.png" /></p>
<ul>
<li><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font><ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูล Grove LED</li>
<li>โมดูล Grove Rotary Switch</li>
<li>ศายเคเบิ้ล (หากตัดแยกโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/rotary.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>รายละเอียดการใช้ฮาร์ดแวร์</strong>:</p>
<ul>
<li>Input: ตัวต้านทานปรับค่าได้แบบหมุน</li>
<li>Control: บอร์ด Seeeduino</li>
<li>Output: โมดูลหลอดแอลอีดี</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>อินพุตหรือสัญญาณขาเข้าของบอร์ดคือสัญญาณแอนะลอก  ดังนั้นจึงต้องต่อสัญญาณเข้าที่ Pin แบบแอนะลอก และโมดูลหลอดแอลอีดีต่อเชื่อมโดยใช้สัญญาณแบบดิจิทัล</p>
<ul>
<li><strong>ซอฟแวร์ที่ใช้</strong>:<ul>
<li>เปิด Arduino IDE.</li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &emsp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Rotary controls LED</span>
<span class="kt">int</span> <span class="n">rotaryPin</span> <span class="o">=</span> <span class="n">A0</span><span class="p">;</span>    <span class="c1">// select the input pin for the rotary</span>
<span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>      <span class="c1">// select the pin for the LED</span>
<span class="kt">int</span> <span class="n">rotaryValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// variable to store the value coming from the rotary</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// declare the ledPin as an OUTPUT:</span>
<span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="n">pinMode</span><span class="p">(</span><span class="n">rotaryPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// read the value from the sensor:</span>
<span class="n">rotaryValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="p">(</span><span class="n">rotaryPin</span><span class="p">);</span>
<span class="c1">// turn the ledPin on</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
<span class="c1">// stop the program for &lt;sensorValue&gt; milliseconds:</span>
<span class="n">delay</span><span class="p">(</span><span class="n">rotaryValue</span><span class="p">);</span>
<span class="c1">// turn the ledPin off:</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
<span class="c1">// stop the program for for &lt;sensorValue&gt; milliseconds:</span>
<span class="n">delay</span><span class="p">(</span><span class="n">rotaryValue</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="n">rotaryPin</span> <span class="o">=</span> <span class="n">A0</span><span class="p">;</span>    <span class="c1">// select the input pin for the rotary</span>
<span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>      <span class="c1">// select the pin for the LED</span>
</code></pre></div>
<strong>ลักษณะการทำงาน:</strong><br />
&emsp;คุณอาจสังเกตว่าเราได้กำหนดค่าให้ rotatePin และ ledPin ด้วยวิธีที่ต่างกัน  ทั้งนี้เนื่องจากตัวต้านทานปรับค่าได้แบบหมุนสร้างสัญญาณแบบแอนะลอก (analog signal) ในขณะที่หลอดแอลอีดีควบคุมโดยใช้สัญญาณดิจิทัล  </p>
<p>&emsp;เพื่อ <strong>กำหนดต่า Analog Pin</strong>, ให้ใช้ A + หมายเลขของ Pin (เช่น <code>A0</code>).</p>
<p>&emsp;เพื่อ <strong>กำหนดต่า Digital Pin</strong>, ให้เขียนหมายเลข pin ได้เลย (เช่น <code>4</code>).</p>
<div class="highlight"><pre><span></span><code><span class="n">rotaryValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="p">(</span><span class="n">rotaryPin</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;โปรแกรมด้านบนมีการอ่านค่าซึ่งกำหนดไว้จาก pin แบบแอนะลอก &ensp; โดยบอร์ดไมโครคอนโทรลเลอร์ที่คุณใช้อยู่นี้มีช่องสัญญาณ (pin) หลายช่อง  &nbsp;มีทั้ง pin ดิจิทัลและแอนะลอก  &nbsp;โดยช่องสัญญาณแบบแอนะลอกทำงานโดยแปลงค่าจากวงจรแปลง (Digital converter) แบบ 10 บิต &nbsp;นั่นหมายถึงค่าที่อ่าน หรือ ค่าที่กำหนดในโปรแกรมจะมีค่าเป็นจำนวนเต็มตั้งแต่ 0 ถึง 1023 โดยแรงดันอินพุตจะมีค่าระหว่าง 0 V และค่าแรงดันทำงานสูงสุด (Operating voltage) ของบอร์ด (5 V หรือ 3.3 V แล้วแต่ชนิดของบอร์ดที่คุณเลือกใช้) &ensp;ตัวอย่างเช่นหากคุณเลือกใช้งานบอร์ด Arduino Uno R3 แรงดันสูงสุดจะอยู่ที่ 5 V / ซึ่งแบ่งเป็น 1024 ขั้น หรือ 0.0049 โวลต์ (4.9 มิลลิโวลต์) ต่อขั้น</p>
<p><strong>Syntax:</strong></p>
<p>&emsp;analogRead(<strong>pin</strong>)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp;<strong>pin</strong>: ชื่อของ pin แบบแอนะลอก (A0 ถึง A5 บนบอร์ดส่วนใหญ่).</p>
<p><strong>ผลการทำงาน:</strong> <br />
&emsp;อ่านค่าแอนะลอกจาก pin ที่กำหนด &emsp; ความละเอียดของค่าที่อ่านจะขึ้นกับตัวแปลงค่าแอนะลอกเป็นดิจิทัลซึ่งเป็นฮาร์ดแวร์ที่ฝังอยู่บนบอร์ดที่คุณใช้ โดยมีค่าได้ตั้งแค่ 0-1023 สำหรับบอร์ดที่ใช้วงจรแบบ 10 บิต หรือ 0-4095 สำหรับบอร์ดที่ใช้วงจรแบบ 12 บิต &nbsp;และใช้ชนิดของตัวแปรที่รับค่าจาก Pin เป็นแบบ int &ensp; ฟังก์ชั่นนี้ใช้อ่านค่าจาก pin แบบแอนะลอก (ในบทเรียนนี้อ่านค่าจากตัวต้านทานปรับค่าได้แบบหมุน) ซึ่งสำหรับอบอร์ดที่เราใช้นี้จะมีความละเอีดย 0~1023</p>
<div class="highlight"><pre><span></span><code><span class="n">delay</span><span class="p">(</span><span class="n">rotaryValue</span><span class="p">);</span>
</code></pre></div>

<p><strong>ฟังก์ชั่นหน่วงเวลา (Delay):</strong> &ensp; ค่าที่กำหนดไว้ในวงเล็บคือระยะเวลาที่ต้องการหน่วงในหน่วยมิลลิวินาที &nbsp; เนื่องจากค่าที่กำหนดได้มาจากค่าที่อ่านได้จาก Pin แบบแอนะลอก ซึ่งสัมพันธ์กับการหมุนของตัวต้านทานปรับค่าได้ &nbsp; ดังนั้นช่วงเวลาที่หน่วงไว้จึงถูกควบคุมด้วยการหมุมหัวบิด (knob)</p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp;การหมุนที่ตัวต้านทานปรับค่าได้จะเปลี่ยนแปลงความถี่ของการกระพริบของหลอดแอลอีดี</p>
<ul>
<li><font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></li>
</ul>
<p>&emsp;กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่าง โมดูลหลอดแอลอีดี กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin D4 และใช้เคเบิ้ลต่อเชื่อมกับตัวต้านทานปรับค่าได้แบบหมุนเข้าที่ pin แบบแอนะลอก ช่อง <strong>A0</strong>  </p>
<h3 id="4">บทเรียนที่ 4: การทำให้บัซเซอร์ส่งเสียง</h3>
<p>&ensp; เช่นเดียวกับการทำงานของหลอดแอลอีดี  &nbsp; โมดูลบัซเซอร์ทำงานในโหมดเอาท์พุต แต่แทนที่จะติดสว่าง ก็ส่งเสียงดัง "ตี๊ด" ซึ่งสามารถประยุกต์ใช้แจ้งเตือนได้ในหลายสถานการณ์ &nbsp; เราได้ศึกษาการใช้งานตัวต้านทานปรับค่าได้ในบทที่ผ่านมา ในบทนี้เราจะประยุกต์ใช้ตัวต้านทานปรับค่าได้ในการควบคุมระดับความดังของเสียงจากบัซเซอร์ การควบคุมนี้ต้องใช้สัญญาณ PWM (Pulse Width Modulation)!</p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<p><strong>PWM คืออะไร</strong>  <br/>
&emsp; <strong>Pulse Width Modulation, หรือ PWM</strong> เป็นเทคนิคที่ใช้ในการสร้างสัญญาณแอนะลอกจากการสั่งงานแบบดิจิทัล  เนื่องจากสัญญาณจากการควบคุมแบบดิจิทัลจะมีรูปแบบเป็นคลื่นสี่เหลี่ยม (Square wave) ที่เกิดจากการเปิด/ปิด &nbsp;รูปแบบการเปิดปิดจะจำลองระดับแรงดันระหว่างระดับสูงสุด (5 V) และระดับปิด (0 V) โดยการปรับเปลี่ยนตามช่วงเวลาให้เป็นสัดส่วนระหว่างช่วงเวลาที่เปิดและปิด &nbsp; ช่วงเวลาที่สัญญาณอยู่ที่ระดับ "เปิด" คือช่วงกว้างของสัญญาณ &nbsp; และเพื่อให้เกิดระดับแรงดันที่เปลี่ยนแปลงได้แบบแอนะลอก เราจึงต้องควบคุมความกว้างของพัส (pulse width) &nbsp; ซึ่งหากมีการเปิดและปิดตามความกว้างของพัสที่กำหนดโดยมีการทำซ้ำที่รวดเร็วพอจะทำให้สัญญาณส่งผลให้อุปกรณ์ทำงานในลักษณะเดียวกับการควบคุมโดยช่องสัญญาณแบบแอนะลอก &nbsp;การใช้งาน PWM นี้เหมาะกับการใช้งานกับอุปกรณ์บางอย่าง เช่น บัซเซอร์ หลอดแอลอีดี มอเตอร์ เป็นต้น</p>
<p>สำหรับการทำงานของหลอดแอลอีดี เมื่อมีการปรับความกว้างของพัส จะทำให้หลอดแอลอีดีสว่างขึ้น &nbsp;สำหรับการทำงานของบัซเซอร์ เมื่อปรับความกว้างของพัสมากขึ้นจะทำให้บัซเซอร์ส่งเสียงดังขึ้น เป็นต้น</p>
<p>ดังที่แสดงในภาพด้านล่าง ใช้คำสั่ง <code>analogWrite()</code> เพื่อสร้างสัญญาณ PWM ยิ่งความกว้างของพัสมากขึ้น เสียงจากบัสเซอร์จะดังขึ้น</p>
<div align=center><img src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/BuzzerPWM.jpg"/></div>

<p>บนบอร์ด Seeeduino หรือบอร์ด Arduino UNO R3 จะมีช่องต่อ pin แบบดิจิทัล 6 ช่อง โดยมีสัญลักษณ ์“~” ซึ่งหมายถึงสามารถใช้งานเพื่อสร้างสัญญาณ PWM ได้ที่ช่อง: 3,5,6,9,10,11  จึงถูกเรียกว่า PWM pin</p>
<ul>
<li><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font><ol>
<li>Seeeduino Lotus</li>
<li>โมดูล Buzzer</li>
<li>สายเคเบิ้ล (หากแยกโมดูลเซนเซอร์ออกจากตัวบอร์ด)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Buzzer.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>ซอฟแวร์ที่ใช้</strong>:</p>
<ul>
<li>เปิด Arduino IDE.</li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &ensp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด</li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="n">BuzzerPin</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">Potentiometer</span> <span class="o">=</span> <span class="n">A0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">BuzzerPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">Potentiometer</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">potentioValue</span><span class="p">,</span> <span class="n">Value</span><span class="p">;</span>
  <span class="n">potentioValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="p">(</span><span class="n">Potentiometer</span><span class="p">);</span>
  <span class="n">Value</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">potentioValue</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="c1">//Mapping potentiometer value to PWM signal value</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BuzzerPin</span><span class="p">,</span> <span class="n">Value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">Value</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">potentioValue</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong>  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; map(<strong>value, fromLow, fromHigh, toLow, toHigh</strong>)</p>
<p><strong>Description:</strong></p>
<p>&emsp; เปลี่ยนช่วงของตัวเลขระดับหนึ่งไปเป็นอีกช่วงหนึ่ง &nbsp; จากช่วงระหว่าง <strong>fromLow</strong>  ถึง <strong>fromHigh</strong> เป็นช่วง <strong>toLow</strong> ถึง <strong>toHgih</strong></p>
<p>&emsp; ทั้งนี้การทำงานของฟังก์ชั่น map() ไม่ได้มีข้อจำกัดเฉพาะช่วงที่อยู่ในค่าที่กำหนดในตัวแปรของฟังก์ชั่น เนื่องจากการทำงานนอกช่วงที่กำหนดบางครั้งอาจจะมีประโยชน์ในการสั่งการทำงานในโปรแกรมได้  &nbsp;แต่หากต้องการกำหนดให้ค่าตัวเลขอยู่ในช่วงที่กำหนด ให้ใช้พังก์ชั่น <code>constrain()</code> โดยฟังก์ชั่นนี้จะกำหนดให้ค่าที่ต่ำกว่าค่าขอบล่าง หรือ สูงกว่าค่าขอบบน อยู่ที่ขอบของช่วงที่กำหนด  </p>
<p>&nbsp; ข้อสังเกต:  ค่าขอบล่างของทั้งช่วง <strong>fromLow</strong> และ <strong>toLow</strong> อาจมีค่าต่ำกว่า หรือ สูงกว่าค่า <strong>fromHigh</strong> หรือ <strong>toHigh</strong> ได้ ทั้งนี้เพื่อใช้ในการกลับด้านช่วงของสัญญาณ เช่น</p>
<p><strong>y = map(x, 1, 50, 50, 1);</strong></p>
<p>หรือใช้ในฟังก์ชั่นที่ต้องการแปลงให้เป็นค่าติดลบ</p>
<p><strong>y = map(x, 1, 50, 50, -100);</strong></p>
<p>ทั้ง 2 ตัวอย่างนี้ใช้งานได้ ไม่ผิด syntax</p>
<p>อย่างไรก็ตามฟังก์ชั่น map() นี้จะงานกับตัวแปรแบบ int เท่านั้น ไม่สามารถใช้กับตัวเลขทศนิยมได้ เมื่อค่าที่ได้รับเป็นตัวแปรของฟังก์ชั่นมาในแบบทศนิยม  ฟังก์ชั่น map() จะปัดขึ้นให้เป็นจำนวนเต็ม</p>
<p><strong>พารามิเตอร์:</strong></p>
<p><strong>value</strong>: ค่าที่ต้องการแปลงช่วง</p>
<p><strong>fromLow</strong>: ขอบล่างของช่วงปัจจุบัน</p>
<p><strong>fromHigh</strong>: ขอบบนของช่วงปัจจุบัน</p>
<p><strong>toLow</strong>: ขอบล่างของช่วงใหม่ที่ต้องการปรับ</p>
<p><strong>toHigh</strong>: ขอบบนของช่วงใหม่ที่ต้องการปรับ</p>
<p>ในโปรแกรมสำหรับการทดลองนี้ ใช้เพื่อปรับช่วงของตัวต้านทานปรับค่าได้ที่อ่านค่าจาก pin แบบแอนะลอก (0 ถึง 1023) ไปเป็นช่วงที่กำหนดความดังของบัซเซอร์ (0 ถึง 255)</p>
<div class="highlight"><pre><span></span><code><span class="n">analogWrite</span><span class="p">(</span><span class="n">BuzzerPin</span><span class="p">,</span> <span class="n">Value</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; การสั่งให้ค่าระดับสัญญาณแบบแอนลอกแสดงค่าที่ pin สามารถใช้ในการกำหนดความส่างของหลอดแอลอีดี หรือ การขับเคลื่อนมอเตอร์ด้วยระดับความเร็วต่างๆ &nbsp; หลังจากที่เรียกใช้ analogWrite() ช่อง pin ที่เลือกจะกำเนิดสัญญาณรูปคลื่นสี่เหลี่ยมที่มีค่าความกว้างของพัสเป็นสัดส่วนตามที่กำหนด (duty cycle) อย่างต่อเนื่อง จนกว่าจะมีการเปลี่ยนแปลง</p>
<p><strong>Syntax:</strong></p>
<p>analogWrite(<strong>pin, value</strong>)</p>
<p><strong>Parameters:</strong></p>
<p><strong>pin</strong>:  <code>pin</code> ที่ต้องการใช้ โดยตัวแปรต้องเป็น: int.</p>
<p><strong>value</strong>: สัดส่วนความกว้างของพัสต่อคาบ (duty cycle): มีค่าระหว่าง <code>0</code> (ระดับปิดสุด) และ <code>255</code> (ระดับเปิดสุด) โดยตัวแปรต้องเป็น: int.</p>
<p>กำหนดค่าตัวระดับสัญญาณแอนะลอก (PWM) ไปควบคุมบัซเซอร์</p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp; ระดับความดังของเสียงจากบัซเซอร์จะเปลี่จนกว่าจะมีการเปลี่ยนแปลงสัมพันธ์กับการปรับค่าตัวต้านทานปรับค่าได้</p>
<p>&emsp;กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่าง โมดูลบัซเซอร์ กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin <strong>D5</strong>  </p>
<hr />
<ul>
<li><font size=5;font color=#314B9F >การใช้งาน PWM</font></li>
</ul>
<p>ถึงตอนนี้เราได้เห็นการใช้งาน PWM แล้ว  ซึ่งจริงๆแล้วมันสามารถประยุกต์ใช้กับงานได้หลากหลาย อย่างไรก็ตามขอให้สังเกตว่าเราไม่สามารถใช้งานหลอดแอลอีดีบนบอร์ด Grove Beginner Kit <a href="www.arduitronics.com/product/3553">(GK00001)</a> นี้ต่ออยู่ที่ pin 4 แล้วด้วยลายวงจรบนบอร์ด  ในขณะที่การใช้งาน PWM ทำได้ที่ pin 3, 5, 6, 9, 10, 11 เท่านั้น &nbsp; ดังนั้นหากคุณต้องการควบคุมโมดูลหลอดแอลอีดีด้วยสัญญาณ PWM  คุณต้องแยกโมดูลนี้ออกจากตัวบอร์ด และต่อเชื่อมฮารด์แวร์ด้วยสายเคเบิ้ล</p>
<p>ที่สำคัญท้ายสุด  เมื่อคุณต้องการใช้งานฟังก์ชั่น PWM คุณต้องแน่ใจว่าช่องสัญญาณ pin ที่คุณเลือกต้องมีเครื่องหมาย "~" กำกับด้วย</p>
<h3 id="5">บทเรียนที่ 5:  ให้ความสว่างภายนอกเป็นตัวควบคุมความสว่างของหลอดแอลอีดี</h3>
<p>&emsp; โมดูลเซนเซอร์แสงที่ใช้ในบทเรียนนี้ ภายในประกอบด้วยตัวต้านทานปรับค่าได้ตามความเข้ม (Intensity) ของแสงภายนอก  &nbsp; ซึ่งอุปกรณ์นี้มีชื่อเรียกเป็นทางการว่า Light Dependent Resistor (LDR) หรือ ตัวต้านทานปรับค่าได้ตามความเข้มของแสง  &nbsp; ในบทเรียนนี้เราจะทดลองการเขียนโปรแกรมเพื่อควบคุมความสว่างของหลอดแอลอีดี โดยให้ความสว่างขึ้นกับระดับความสว่างของแสงภายนอก  โดยหลอดแอลอีดีจะติดสว่างเมื่ออยู่ในที่มืด และ หลอดแอลอีดีจะดับเมื่ออยู่ในที่สว่าง</p>
<p>ในบทเรียนต่อไปนี้เราจะใช้ Serial Monitor เพื่อสังเกตผลการทำงานของเซนเซอร์ ซึ่งจะมีการแนะนำการใช้งานเบื้องต้นดังนี้ !!!</p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<ul>
<li><strong>Serial Monitor คืออะไร</strong></li>
</ul>
<p>Serial Monitor เป็นหน้าจอสำหรับแสดงผลการทำงานของบอร์ด Arduino  &nbsp;โดยเป็นการแสดงค่าที่ได้จากคำสั่งพิมพ์จากโปรแกรมเพื่อใช้รายงานผล หรือ ใช้ในการตรวจหาความผิดพลาด นอกจากนี้ยังสามารถใช้ในการส่งค่าอินพุทเพื่อให้โปรแกรมนำไปใช้งานต่อ  </p>
<p>ข้อสังเกต: คุณต้องเช็คให้แน่ใจว่าอัตราการส่งข้อมูล (baud rate) ตรงกับที่กำหนดไว้ในโปรแกรม</p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Serial.jpg" /></p>
<p>คุณสามารถเปิดหน้าจอ Serial monitor ได้โดย <strong>Tools</strong> -&gt; <strong>Serial Monitor</strong></p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/20200217144001.jpg" /></p>
<ul>
<li><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font><ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูล Grove LED</li>
<li>โมดูลวัดค่าแสดง Grove Light Sensor</li>
<li>เคเบิ้ล Grove Cable (ใช้กรณีที่แยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Light.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>โหมดการทำงานของฮาร์ดแวร์ที่ใช้ในการทดลอง:</strong></p>
<ul>
<li>Input: โมดูลวัดค่าแสง</li>
<li>Control: บอร์ด Seeeduino Lotus</li>
<li>Output: โมดูลหลอดแอลอีดี  </li>
</ul>
</li>
<li>
<p><strong>ซอฟแวร์ที่ใช้</strong>:</p>
<ul>
<li>เปิด Arduino IDE.</li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &ensp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด</li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">// Light Switch</span>
<span class="kt">int</span> <span class="n">sensorpin</span> <span class="o">=</span> <span class="n">A6</span><span class="p">;</span> <span class="c1">// Analog input pin that the sensor is attached to</span>
<span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>    <span class="c1">// LED port</span>
<span class="kt">int</span> <span class="n">sensorValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>        <span class="c1">// value read from the port</span>
<span class="kt">int</span> <span class="n">outputValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>        <span class="c1">// value output to the PWM (analog out)</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span><span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">sensorpin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// read the analog in value:</span>
  <span class="n">sensorValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="p">(</span><span class="n">sensorpin</span><span class="p">);</span>

  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">sensorValue</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">sensorValue</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>คุณสามารถอ่านค่าระดับความเข้มของแสงได้จาก <strong>Serial Monitor</strong> โดยไปที่ <strong>Tools</strong> -&gt; <strong>Serial Monitor</strong>  </p>
<ul>
<li><font size=5;font color=#314B9F> อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; กำหนดค่าอัตราการส่งข้อูลในหน่วยบิตต่อวินาที (baud) โดยส่งผ่านการสื่อสารแบบอนุกรม (Serial transmission) &amp;nbsp เพื่อใช้ในการสื่อสารกับ Serial monitor ต้องแน่ใจว่าได้กำหนดค่าอัตราการส่งผ่านข้อมูล (baud rates) ไว้ตรงกับเมนูที่มุมขวาด้านล่างของหน้าจอ Serial Monitor &nbsp; คุณสามารถเลือกใช้ค่าอื่นที่เหมาะสมได้ เช่น การสื่อสารผ่าน pin 0 และ 1 เพื่อต่อเชื่อมกับอุปกรณ์ภายนอก ควรเลือกค่าอัตราการส่งข้อมูลให้เหมาะสมกับการทำงานของอุปกรณ์  </p>
<p>ตัวเลือกที่สามารถกำหนดได้อีกส่วนคือ parity และ Stop bit (มีไว้เพื่อตรวจสอบความถูกต้องในการส่งข้อมูลแบบอนุกรม เพื่อให้แน่ใจว่าด้านส่งและด้านรับได้ข้อมูลที่ตรงกัน --เพิ่มเติมจากผู้แปล)  โดยมีค่าตั้งต้นไว้ที่ 8 บิต ไม่มีการเช็ค parity และมีบิตที่แสดงเมื่อต้องการหยุดทำงาน (Stop bit) ยาว 1 บิต  </p>
<p>โปรแกรมที่ใช้ในการติดต่อกับฮาร์ดแวร์ใช้อัตราการส่งผ่านข้อมูลระหว่างกันที่ 9600</p>
<p><strong>Syntax:</strong></p>
<p>&emsp; Serial.begin(<strong>speed</strong>)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp; <strong>speed</strong>: อัตราการส่งข้อมูลมีค่าได้หลายแบบ เช่น <code>9600</code>, <code>115200</code> เป็นต้น</p>
<p>ในโปรแกรมนี้ต้ังค่าไว้ที่ 9600.</p>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">sensorValue</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; แสดงค่าผ่านช่องสัญญาณแบบอนุกรม (Serial Port) ในลักษณะที่มนุษย์สามารถอ่านค่าได้เป็นตัวอักษร ASCII ตามด้วยค่าแสดงคำสั่งไปที่ต้นบรรทัด (ASCII 13 หรือ '\r') และค่าแสดงคำสั่งขึ้นบรรทัดใหม่ (ASCII 10 หรือ '\n')  ซึ่งทำงานเช่นเดียวกับคำสั่ง Serial.print()  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; Serial.println(<strong>val</strong>) หรือ Serial.println(<strong>val</strong>, <strong>format</strong>)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp; <strong>val</strong>: ค่าที่ต้องการแสดง  ชนิดข้อมูลที่ใช้: สามารถใช้ชนิดใดก็ได้</p>
<p>&emsp; <strong>format</strong>: กำหนดลักษณะตัวเลขที่ต้องการแสดง (จำนวนเต็ม) หรือ แสดงจำนวนตำแหน่งหลังทศนิยม (สำหรับเลขชนิด floating point).</p>
<p>ในการทดลองนี้เมื่อเปิดดู <strong>Serial Monitor</strong> จะแสดงค่าความสว่างที่อ่านค่าได้</p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp; โมดูลหลอดแอลอีดีจะสว่างขึ้นถ้าอยู่ในที่มือ และจะดับเมื่อมีแสงภายนอก</p>
<ul>
<li><font size=5;font color=#314B9F >Breakout Guide</font></li>
</ul>
<p>&emsp;กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่าง โมดูลบัซเซอร์ กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin <strong>D4</strong>  และต่อเชื่อมโมดูลอ่านค่าแสงไปที่ช่อง pin แบบแอนะลอก <strong>A6</strong>  </p>
<h3 id="lesson-6">Lesson 6: ความเข้มเสียงควบคุมความสว่างของหลอดแอลอีดี</h3>
<p>&emsp; เซนเซอร์เสียงสามารถใช้ในการตรวจจับระดับความเข้มเสียงของสิ่งแวดล้อม  โดยแสดงผลเป็นความสว่างของแสงจากหลอดแอลอีดี  เราแน่ใจว่าคุณน่าจะเคยเห็นการใช้งานเสียงที่กำหนดควบคุมความสว่างของแสงมาบ้างแล้ว คราวนี้เราลองมาทำเองดูบ้าง และเช่นที่ผ่านมา การทำลองจะทำได้ไม่ยากเย็นนัก โดยใช้การพล็อตค่าใน Serial Plotter เพื่อสังเกตผลการวัดค่า  </p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<ul>
<li><strong>Serial Plotter คืออะไร</strong></li>
</ul>
<p>Serial Plotter มีลักษณะการทำงานเดียวกับ Serial Monitor ที่ใช้งานในบทเรียนที่ผ่านมา  &nbsp; แต่คราวนี้แทนที่จะแสดงค่าเป็นตัวอักษร  Serial Plotter นำค่าที่ส่งมาจาก Serial Port มาพล็อตแสดงค่าเป็นกราฟตามช่วงเวลาจริงของสัญญาณที่ได้รับ  ซึ่งเป็นประโยชน์มากในการสังเกตดูการเปลี่ยนแปลงของสัญญาณ  </p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/SerialPlotter.png" /></p>
<p>คุณสามารถเปิด Serial Plotter ได้โดยคลิ็กที่ <strong>Tools</strong> -&gt; <strong>Serial Plotter</strong></p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/serialplot.jpg" /></p>
<ul>
<li>
<p><strong>การลงมือปฏิบัติ:</strong> ความสว่างของหลอดแอลอีดีขึ้นกับความเข้มของเสียง  เมื่อไม่มีเสียง หลอดแอลอีดีจะดับ</p>
</li>
<li>
<p><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font></p>
<ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูล Grove LED</li>
<li>โมดูลเซนเซอร์เสียง (Grove Sound Sensor)</li>
<li>สายเคเบิ้ล Grove cable (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Sound.png" />  </p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>โหมดการทำงานของฮาร์ดแวร์ที่ใช้ในการทดลอง:</strong></p>
<ul>
<li>Input: โมดูลวัดค่าแสง</li>
<li>Control: บอร์ด Seeeduino Lotus</li>
<li>Output: โมดูลหลอดแอลอีดี  </li>
</ul>
</li>
<li>
<p><strong>ซอฟแวร์ที่ใช้</strong>:</p>
<ul>
<li>เปิด Arduino IDE.</li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &ensp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด  </li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Sound Control Light</span>
<span class="kt">int</span> <span class="n">soundPin</span> <span class="o">=</span> <span class="n">A2</span><span class="p">;</span> <span class="c1">// Analog sound sensor is to be attached to analog</span>
<span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// Digital LED is to be attached to digital</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">soundPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">soundState</span> <span class="o">=</span> <span class="n">analogRead</span><span class="p">(</span><span class="n">soundPin</span><span class="p">);</span> <span class="c1">// Read sound sensor’s value</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">soundState</span><span class="p">);</span>
  <span class="c1">// if the sound sensor’s value is greater than 400, the light will be on.</span>
  <span class="c1">//Otherwise, the light will be turned off</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">soundState</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>คุณสามารถอ่านค่าความเข้มของแสงได้จาก <strong>Serial Plotter</strong> โดยไปที่ <strong>Tools</strong> -&gt; <strong>Serial Plotter</strong>  </p>
<p><strong>ข้อสังเกต: คุณสามารถปรับค่าความสว่างได้ตามที่ต้องการ ขึ้นกับความสว่างของแสงในสิ่งแวดล้อม เพื่อการแสดงผลที่ชัดเจน</strong></p>
<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
</code></pre></div>

<p>ซอฟแวร์ทำงานบนเครื่องคอมพิวเตอร์ซึ่งสื่อสารกับบอร์ดที่ใช้ในการพัฒนาโปรแกรม  โดยมีอัตราการส่งข้อมูลที่ 9600  </p>
<p><div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
</code></pre></div>
ฟังก์ชั่นนี้ใช้เพื่อกำหนดค่าให้แสดงที่ Serial Monitor  โดยค่าที่แสดงจะอยู่ระหว่างเครื่องหมาย " &emsp;   "  </p>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span> <span class="p">);</span>
</code></pre></div>

<p>บรรทัดนี้แสดงค่าเหมือนด้านบน แต่ <strong>serial.println</strong> เป็นการสั่งให้ขึ้นบรรทัดใหม่  </p>
<p><div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">soundState</span><span class="p">);</span>
</code></pre></div>
Serial Monitor แสดงค่าที่อ่านได้จากเซนเซอร์เสียง  เมื่อคุณเปิดดู <strong>serial monitor</strong> คุณจะเห็นค่าที่แสดงเป็นตัวเลขที่สัมพันธ์กับค่าจากเซนเซอร์  </p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp; โมดูลหลอดแอลอีดีจะสว่างขึ้นเมื่อมีเสียงดังจากสิ่งรอบข้าง</p>
<ul>
<li><font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></li>
</ul>
<p>กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่างโมดูลหลอดแอลอีดีกับบอร์ด Seeeduino Lotus ด้วย pin แบบดิจิทัล <strong>D4</strong> และโมดูลเซนเซอร์เสียง กับบอร์ด Seeeduino Lotus ที่ตำแหน่ง pin แบบแอนะลอก <strong>A2</strong></p>
<h3 id="lesson-7-oled">Lesson 7: แสดงบนจอโอแอลอีดี (OLED)</h3>
<p>จอแสดงผลแบบ OLED สามารถนำมาประยุกต์ใช้งานได้หลายแบบ &nbsp; ในบทนี้เราจะใช้แสดงค่าที่อ่านได้จากเซนเซอร์</p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<ul>
<li><strong>Arduino Libraries คืออะไร!!</strong></li>
</ul>
<p>&emsp; บอร์ด Arduino สามารถใช้งานกับเซนเซอร์ชนิดต่างๆ ได้หลากหลายโดยมีไลบรารี่ควบคู่กันไป ฟังก์ชั่นต่างๆ ที่ใช้ในการเชื่อมต่อกับเซนเซอร์ หรือ ทำการควบคุมตัดต่อข้อมูล สามารถนำไลบรารี่มาใช้งานได้ในการเขียนโปรแกรมบน Arduino IDE เพียงติดตั้งไลบรารี่ได้ถูกต้องโดยเรียกใช้จาก <strong>Sketch</strong> -&gt;<strong>Include Library</strong>  </p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/zip.jpg" /></p>
<p>อ่่านข้อมูลเพิ่มเติมได้ที่ <a href="https://wiki.seeedstudio.com/How_to_install_Arduino_Library/">การติดตั้งไลบรารี่</a>.</p>
<ul>
<li><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font><ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูลหลอดแอลอีดี Grove OLED</li>
<li>เคเบิ้ล Grove cable (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/OLED.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li>
<p><strong>การต่อกับโมดูล:</strong></p>
<ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><strong>โหมดการทำงานของฮาร์ดแวร์ที่ใช้ในการทดลอง:</strong></p>
<ul>
<li>Input: โมดูลวัดค่าแสง</li>
<li>Control: บอร์ด Seeeduino Lotus</li>
<li>Output: โมดูลหลอดแอลอีดี  </li>
</ul>
</li>
<li>
<p><strong>ซอฟแวร์ที่ใช้</strong>:</p>
<ul>
<li>เปิด Arduino IDE.</li>
<li>ติดตั้ง <strong>U8g2 library</strong>: โดยไปที่ <strong>Sketch</strong> -&gt; <strong>Include Library</strong> -&gt; <strong>Manage Libraries...</strong> และค้นหาคำว่า "<strong>U8g2</strong>" ภายใน <strong>Library Manager</strong>  เมื่อค้นแล้วจะเห็นตัวเลือก <strong>u8g2 library by oliver</strong> ให้คลิ๊กเพื่อติดตั้ง<br />
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/U8g2-lib.png" /></li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify &ensp; เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด  ให้ Upload โปรแกรมลงที่บอร์ด  </li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;Arduino.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;U8x8lib.h&gt;</span><span class="cp"></span>

<span class="n">U8X8_SSD1306_128X64_ALT0_HW_I2C</span> <span class="nf">u8x8</span><span class="p">(</span><span class="cm">/* reset=*/</span> <span class="n">U8X8_PIN_NONE</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setFlipMode</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">u8x8_font_chroma48medium8_r</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><strong>อธิบายการทำงานของโค้ด</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;&gt;</span><span class="cp"></span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; <code>#include</code> ถูกใช้เพื่อเรียกไลบรารี่จากภายนอกเข้าไปรวมใน sketch  ทำให้โปรแกรมที่เขียนสามารถเข้าถึงไลบรารี่มาตรฐานต่างๆ ซึ่งใช้งานกับบอร์ด Arduino ที่รวบรวมไว้  </p>
<p>&emsp; ข้อสังเกต <code>#include</code> ทำงานเหมือนกับ <code>#define</code> ไม่ต้องเขียนเครื่องหมาย ";" ต่อท้าย  ถ้าเติมเครื่องหมายนี้การคอมไพล์จะไม่ผ่าน  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;U8x8lib.h&gt;</span><span class="cp"></span>
</code></pre></div></p>
<p><strong>#include</strong> เป็นคำสั่งที่ใช้กำหนดไฟล์เริ่มต้น (header file) ในไลบรารี่ U8x8lib.h จะมีเขียน</p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">U8X8_SSD1306_128X64_ALT0_HW_I2C</span> <span class="nf">u8x8</span><span class="p">(</span><span class="cm">/* reset=*/</span> <span class="n">U8X8_PIN_NONE</span><span class="p">);</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>เมื่อมีการระบุการใช้งานไลบรารี่แล้ว เราสามารถเรียกใช้ฟังก์ชั่นจากไลบรารี่ได้  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">u8x8</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; กำหนดและติดตั้งค่าเริ่มต้นเพื่อใช้งานจอ OLED กับบอร์ด Arduino &nbsp; โปรดดูรายละเอียดการติดตั้งสำหรับการใช้งาน U8g2 รุ่นต่างๆ ซึ่งอาจจะมีรายละเอียดที่แตกต่างกัน  </p>
<p><strong>Syntax:</strong></p>
<p>u8x8.begin()</p>
<p>เริ่มต้นการใช้ไลบรารี่ u8g2  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">u8x8</span><span class="p">.</span><span class="n">setFlipMode</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; จอภาพบางรุ่นมีความสามารถในการกลับด้าน 180 องศาภาพเก็บที่อยู่ภายในบัพเฟอร์ &nbsp;โมดูลจอภาพนี้เราใช้อยู่นี้สามารถกลับภาพได้ &nbsp;ข้อควรระวังคือ เมื่อสั่งให้กลับจอภาพแล้ว ต้องสั่งให้วาดภาพใหม่เพื่อให้เห็นภาพกลับด้าน &nbsp; ขั้นตอนการแสดงภาพกลับด้านคือ ให้ล้างภาพที่แสดงก่อน จากนั้นเปลี่ยนโหมดการแสดงภาพเป็นแสดงกลับหัว และสั่งให้วาดภาพที่เก็บไว้</p>
<p><strong>Syntax:</strong></p>
<p>&emsp;u8x8.setFlipMode(<strong>mode</strong>)</p>
<p><strong>Parameters:</strong></p>
<p>&emsp; <strong>mode</strong>: <code>0</code> หรือ <code>1</code></p>
<p>กลับด้านภาพที่แสดงบนหน้าจอ</p>
<p><br/></p>
<div class="highlight"><pre><span></span><code><span class="n">u8x8</span><span class="p">.</span><span class="n">setCursor</span><span class="p">();</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;กำหนดตำแหน่งของเคอร์เซอร์ซึ่งเป็นตำแหน่งของการเริ่มต้นพิมพ์ค่าบนหน้าจอ  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp;u8x8.setCursor(<strong>x, y</strong>)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp;<strong>x, y</strong>: Column/row position for the cursor of the print function.</p>
<p>&emsp;กำหนดตำแหน่งเคอร์เซอร์</p>
<p><br/>  </p>
<div class="highlight"><pre><span></span><code><span class="n">u8x8</span><span class="p">.</span><span class="n">setFont</span><span class="p">()</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;ระบุให้ใช้ฟอนต์ u8x8 สำหรับการพิมพ์ตัวอักษร  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; u8x8.setFont(<strong>font_8x8</strong>)</p>
<p>&emsp;กำหนดค่าฟอนต์ที่จะใช้แสดงบนจอ</p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
</code></pre></div></p>
<p>&emsp; สั่งให้แสดงภาพบนจอ</p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp;พิมพ์คำว่า Hello World บนหน้าจอ OLED  </p>
<p><strong>เอกสารอ้างอิงสำหรับไลบรารี่ U8g2</strong></p>
<p>&emsp; หากคุณต้องการข้อมูลเพิ่มเติมสำหรับการใช้งานไลบรารี่ U8g2 โปรดดู<a href="https://github.com/olikraus/u8g2/wiki/u8g2reference">ที่นี่</a></p>
<p><br/>
- <font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></p>
<p>กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่างโมดูลจอ OLED เข้ากับบอร์ด Seeeduino Lotus โดยใช้การเชื่อมต่อแบบ <strong>I2C</strong> (ค่าแอดเดรสเริ่มต้นสำหรับใช้กับ I2C คือ 0x78)</p>
<h3 id="8">บทเรียนที่ 8: ตรวจจับค่าอุณหภูมิและความชื้น</h3>
<p>&emsp;เคยอยากรู้มั้ยว่าอุณหภูมิและความชื้นรอบตัวคุณมาค่าเท่าไหร่  &nbsp;อยากรู้ค่าที่แน่นอนเป็นตัวเลขรึเปล่า &nbsp;อยากรู้มั้ยว่าวันนี้อากาศจะร้อนแค่ไหน &nbsp;ถ้างั้นเรามาลองทำมิเตอร์วัดอุณหภูมิกัน  </p>
<p><font size=5;font color=#314B9F >ข้อมูลเบื้องต้น:</font></p>
<ul>
<li><strong>การสื่อสารด้วยรูปแบบ I2C คืออะไร</strong></li>
</ul>
<p><strong>รูปแบบสัญญาณที่ใช้เพื่อการสื่อสาร:</strong> รูปแบบที่เราจะใช้ในบทเรียนนี้เรียกว่า I2C และข้อมูลแบบย่อๆ ของการสื่อสารแบบ I2C มีดังนี้ <br />
&emsp;I2C เป็นรูปแบบการสื่อสารที่ใช้สายเพียง 2 เส้นในการส่งข้อมูลระหว่างอุปกรณ์ซึ่งประกอบด้วย SDA และ SCL (SDA คือ สายสัญญาณข้อมูล และ SCL คือ สายสัญญาณกำหนดจังหวะเวลา หรือเรียกว่า "สัญญาณนาฬิกา")  </p>
<p>&emsp;สายทั้ง 2 เส้นนี้สามารถใช้งานได้แบบ 2 ทิศทาง คือส่งไป และ ส่งกลับได้ &nbsp; เมื่ออุปกรณ์หลัก (ในที่นี้คือบอร์ด Arduino) เริ่มส่งสัญญาณข้อมูลแอดเดรสและสัญญาณนาฬิกาไปที่อุปกรณ์ทุกตัวที่ต่อเชื่อมด้วย (อยู่บนบัสเดียวกัน) &nbsp;   อุปกรณ์ใดที่ได้รับทั้งสัญญาณจากสายทั้ง 2 เส้นนี้และตรวจพบว่าเป็นแอดเดรสของตัวเองก็จะเริ่มทำงาน  </p>
<p>&emsp;การทำงานระหว่างมาสเตอร์ (master) และสเลฟ (slave) (ตัวส่งและตัวรับ) ที่อยู่บนบัสนั้นอาจะมีการเปลี่ยนแปลงได้ขึ้นกับทิศทางการส่งข้อมูลจากฝั่งใดไปอีกฝั่งนึง &nbsp; ถ้าอุปกรณ์ที่เป็นมาสเตอร์ต้องการส่งข้อมูลไปที่อุปกรณ์ที่เป็นสเลฟ ตัวมาสเตอร์จะเริ่มต้นด้วยการส่งแอดเดรสของตัวสเลฟเพื่อเรียกให้ตัวสเลฟที่ต้องการเรียกใช้เริ่มทำงาน &nbsp; จากนั้นจะส่งข้อมูลอื่นๆที่ใช้ในการทำงานตามต่อ และหยุดส่งข้อมูลเมื่อตัวมาสเตอร์ต้องการจบการทำงาน &nbsp;ด้วยหลักการเดียวกันนี้ หากตัวมาสเตอร์ต้องการรับข้อมูลจากตัวสเลฟ ตัวมาสเตอร์ต้องเริ่มต้นด้วยการเรียกสเลฟก่อน  </p>
<p>&emsp;เมื่อตัวมาสเตอร์ได้รับข้อมูลที่ส่งกลับมาจากอุปกรณ์ที่เรียกแล้วและต้องการจบการทำงาน ตัวมาสเตอร์ก็จะหยุดส่งสัญญาณนาฬิกาและสิ้นสุดการส่งสัญญาณข้อมูล</p>
<ul>
<li>
<p><strong>การทดลองในบทเรียนนี้:</strong> ใช้จอ OLED เพื่อแสดงค่าอุณหภูมิและความชื้น</p>
</li>
<li>
<p><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font></p>
<ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูลจอ Grove OLED</li>
<li>โมดูลวัดค่าอุณหภูมิและความชื้น Grove Temperature and Temperature Sensor</li>
<li>เคเบิ้ล Grove cable (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Temp.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font>  </p>
<ul>
<li><strong>การต่อกับโมดูล:</strong><ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด<br />
<br/>                   </li>
</ul>
</li>
</ul>
</li>
<li>
<p><font size=5;font color=#314B9F >ซอฟแวร์ที่ใช้</font><br />
            - เปิด Arduino IDE<br />
            - ติดตั้ง <strong>Grove Temperature and Humidity Sensor(DHT11) library</strong>: ไปที่ <strong>Sketch</strong> -&gt; <strong>Include Library</strong> -&gt; <strong>Manage Libraries...</strong> ค้นหาคำว่า "<strong>Grove Temperature and Humidity Sensor(DHT11)</strong>" ภายใน <strong>Library Manager</strong> จากนั้นติดตั้ง
<img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Temp-lib.png" />
           - ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify   เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด ให้ Upload โปรแกรมลงที่บอร์ด</p>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Temperature and Humidity Sensor</span>
<span class="cp">#include</span> <span class="cpf">&quot;DHT.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;Arduino.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;U8x8lib.h&gt;</span><span class="cp"></span>

<span class="cp">#define DHTPIN 3     </span><span class="c1">// what pin we&#39;re connected to</span>
<span class="cp">#define DHTTYPE DHT11   </span><span class="c1">// DHT 11</span>
<span class="n">DHT</span> <span class="nf">dht</span><span class="p">(</span><span class="n">DHTPIN</span><span class="p">,</span> <span class="n">DHTTYPE</span><span class="p">);</span>

<span class="n">U8X8_SSD1306_128X64_ALT0_HW_I2C</span> <span class="nf">u8x8</span><span class="p">(</span><span class="cm">/* reset=*/</span> <span class="n">U8X8_PIN_NONE</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;DHTxx test!&quot;</span><span class="p">);</span>
  <span class="n">dht</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setPowerSave</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>  
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setFlipMode</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>

  <span class="kt">float</span> <span class="n">temp</span><span class="p">,</span> <span class="n">humi</span><span class="p">;</span>
  <span class="n">temp</span> <span class="o">=</span> <span class="n">dht</span><span class="p">.</span><span class="n">readTemperature</span><span class="p">();</span>
  <span class="n">humi</span> <span class="o">=</span> <span class="n">dht</span><span class="p">.</span><span class="n">readHumidity</span><span class="p">();</span>

  <span class="n">u8x8</span><span class="p">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">u8x8_font_chroma48medium8_r</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">33</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Temp:&quot;</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Humidity:&quot;</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">humi</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">);</span>
  <span class="n">u8x8</span><span class="p">.</span><span class="n">refreshDisplay</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">float</span> <span class="n">temp</span><span class="p">,</span> <span class="n">humi</span><span class="p">;</span>
</code></pre></div>

<p>กำหนดตัวแปรที่ใช้เก็บค่าที่อ่านจากเซนเซอร์</p>
<div class="highlight"><pre><span></span><code><span class="n">temp</span> <span class="o">=</span> <span class="n">dht</span><span class="p">.</span><span class="n">readTemperature</span><span class="p">();</span>
<span class="n">humi</span> <span class="o">=</span> <span class="n">dht</span><span class="p">.</span><span class="n">readHumidity</span><span class="p">();</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; ฟังก์ชั่นนี้ใช้ในการอ่านค่าอุณหภูมิและความชื้นจากเซนเซอร์  </p>
<p>&emsp; <strong>Syntax:</strong></p>
<p><strong>dht.readTemperature()</strong> และ <strong>dht.readHumidity()</strong>. ชนิดของค่าที่อ่าน: เลขทศนิยม (float)</p>
<p>&emsp;เรียกใช้ฟังก์ชั่นนี้เพื่ออ่านค่าอุณหภูมิและความชื้น จากนั้นเก็บค่าไว้ในตัวแปร  </p>
<p><br/>
<strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp;ค่าอุณหภูมิและความชื้นปรากฏแสดงบนจอ OLED  </p>
<ul>
<li><font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></li>
</ul>
<p>กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่างโมดูลจอ OLED เข้ากับบอร์ด Seeeduino Lotus โดยใช้การเชื่อมต่อแบบ <strong>I2C</strong> (ค่าแอดเดรสเริ่มต้นสำหรับใช้กับ I2C คือ 0x78) และต่อโมดูลวัดค่าอุณหภูมิและความชื้นไปที่บอร์ด Seeduino Lotus โดยใช้ pin <strong>D3</strong>  </p>
<h3 id="9">บทเรียนที่ 9: วัดความความดันอากาศ</h3>
<p>&emsp; โมดูลวัดค่าความดันอากาศ (BMP280) เป็นโมดูลที่ใช้เซนเซอร์ของ Bosch BMP280 ซึ่งเป็นเซนเซอร์ที่มีความแม่นยำสูง และใช้กำลังไฟฟ้าน้อย &nbsp;โมดูลนี้สามารถใช้ในการวัดค่าอุณหภูมิและความดันบรรยากาศได้อย่างแม่นยำ &nbsp;เนื่องจากความดันอากาศมีการเปลี่ยนแปลงตามระดับความสูง&nbsp;จึงสามารถใช้ในการแสดงค่าระดับความสูงของที่ตั้งอุปกรณ์ได้  </p>
<ul>
<li><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font><ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูลวัดความดันอากาศ Grove Air Pressure Sensor</li>
<li>เคเบิ้ล Grove cable (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/AirPressure.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font></p>
<ul>
<li><strong>การต่อกับโมดูล:</strong><ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
</ul>
</li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด</li>
</ul>
</li>
<li>
<p><font size=5;font color=#314B9F >ซอฟแวร์ที่ใช้</font></p>
<ul>
<li>เปิด Arduino IDE  </li>
<li>ติดตั้ง <strong>Grove Barometer Sensor library</strong>: ไปที่ <strong>Sketch</strong> -&gt; <strong>Include Library</strong> -&gt; <strong>Manage Libraries...</strong> ค้นหาคำว่า "<strong>Grove BMP280</strong>" ภายใน <strong>Library Manager</strong> จากนั้นติดตั้ง  </li>
</ul>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/BMP-lib.png" /></p>
<ul>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify   เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด ให้ Upload โปรแกรมลงที่บอร์ด  </li>
<li>ในโปรแกรมนี้ ข้อมูลจากบารอมิเตอร์จะถูกส่งไปที่บอดร์ด Seeeduino โดยใช้บัส I2C และจากนั้นบอร์ด Seeeduino จะสั่งให้พิมพ์ค่าที่อ่านได้ใน Serial Monitor &nbsp; ให้เปิด <strong>serial monitor</strong> เพื่อดูผลการทำงาน  </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Air pressure detection</span>
<span class="cp">#include</span> <span class="cpf">&quot;Seeed_BMP280.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;Wire.h&gt;</span><span class="cp"></span>

<span class="n">BMP280</span> <span class="n">bmp280</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">bmp280</span><span class="p">.</span><span class="n">init</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Device not connected or broken!&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>

    <span class="kt">float</span> <span class="n">pressure</span><span class="p">;</span>

    <span class="c1">//get and print temperatures</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Temp: &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">bmp280</span><span class="p">.</span><span class="n">getTemperature</span><span class="p">());</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">);</span> <span class="c1">// The unit for  Celsius because original arduino don&#39;t support speical symbols</span>

    <span class="c1">//get and print atmospheric pressure data</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Pressure: &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">pressure</span> <span class="o">=</span> <span class="n">bmp280</span><span class="p">.</span><span class="n">getPressure</span><span class="p">());</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Pa&quot;</span><span class="p">);</span>

    <span class="c1">//get and print altitude data</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Altitude: &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">bmp280</span><span class="p">.</span><span class="n">calcAltitude</span><span class="p">(</span><span class="n">pressure</span><span class="p">));</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;m&quot;</span><span class="p">);</span>

    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="c1">//add a line between output of different times.</span>

    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;Wire.h&gt;</span><span class="cp"></span>
</code></pre></div>

<p><strong>#include</strong> เป็นคำสั่งกำหนดค่าเริ่มต้นภายใน Header file  &nbsp; ในการทดลองนี้เราใช้ไลบรารี่ <Wire.h> ซึ่งมีอยู่แล้วใน Arduino IDE (ไม่ต้องติดตั้งเอง)  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&quot;Seeed_BMP280.h&quot;</span><span class="cp"></span>
</code></pre></div>
เป็นคำสั่งกำหนดค่าเริ่มต้นภายใน Header file ของ Seeed_BMP280.h โดยไฟล์นี้อยู่ในโฟลเดอร์เดียวกันกับโปรแกรมเปิดอยู่</p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">bmp280</span><span class="p">.</span><span class="n">init</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Device not connected or broken!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; เพื่อเริ่มต้นการอ่านค่าความดันอากาศ สั่งโดยใช้คำสั่ง bmp280.init() &nbsp; จากนั้นใช้เงื่อนไขแบบ if เพื่อตรวจสอบสภาวะการเริ่มทำงานว่าพร้อมหรือยัง &nbsp;ถ้าพร้อมให้ข้ามไปทำงานต่อ &nbsp; ถ้าไม่พร้อมให้แจ้งเตือนด้วยข้อความ "Device not connected or broken!" ในหน้าจอ Serial monitor  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp;<strong>bmp280.init()</strong></p>
<p>ถ้าความดันอากาศไม่พร้อมเริ่มต้น ให้แสดงข้อความใน Serial monitor  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">bmp280</span><span class="p">.</span><span class="n">getTemperature</span><span class="p">());</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;ฟังก์ชั่นนี้ใช้อ่านค่าอุณหภูมิจากเซนเซอร์  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp;<strong>bmp280.getTemperature()</strong> ชนิดข้อมูลที่อ่าน: ทศนิยม (float)</p>
<p>พิมพ์ค่าอุณหภูมิที่อ่านได้ที่ Serial monitor  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">pressure</span> <span class="o">=</span> <span class="n">bmp280</span><span class="p">.</span><span class="n">getPressure</span><span class="p">());</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;ฟังก์ชั่นนี้ใช้อ่านค่าความดันอากาศจากเซนเซอร์  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; <strong>bmp280.getPressure()</strong> ชนิดข้อมูลที่อ่าน: ทศนิยม (float)</p>
<p>พิมพ์ค่าความดันอากาศที่อ่านได้ที่ Serial monitor  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">bmp280</span><span class="p">.</span><span class="n">calcAltitude</span><span class="p">(</span><span class="n">pressure</span><span class="p">));</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp;รับค่าความดันอากาศมาคำนวณระดับความสูง  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp;bmp280.calcAltitude(<strong>float</strong>) ชนิดข้อมูลที่อ่าน: ทศนิยม (float)</p>
<p><strong>พารามิเตอร์:</strong></p>
<p>&emsp;<strong>float</strong>: ค่าความดันอากาศ</p>
<p>พิมพ์ค่าความดันอากาศ</p>
<p><br/>
<strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp;อ่านค่าความดันอากาศและแสดงค่าใน Serial monitor  </p>
<ul>
<li><font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></li>
</ul>
<p>ใช้เคเบิ้ลเพื่อต่อเชื่อมโมดูลวัดค่าความดันอากาศกับบอร์ด Seeeduino Lotos โดยใช้ <strong>I2C</strong> (สังเกต: แอดเดรสของโมดูลเพื่อใช้ในการติดต่อโดย I2C คือ 0x77 หรือ 0x76)  </p>
<h3 id="10">บทเรียนที่ 10: จับความเคลื่อนไหว</h3>
<p>&emsp; บทนี้จะเป็นการใช้งานเซนเซอร์ตัวสุดท้ายบนบอร์ด เซนเซอร์ตัวนี้ใช้ในการวัดความเร่ง 3 แกน (Triaxial Accelerometer) &nbsp; การใช้โมดูลนี้คุณสามารถตรวจจับความเคลื่อนไหวที่คุณต้องการ ซึ่งสามารถใช้ในการทดลองที่เกี่ยวข้องกับการเคลื่อนไหวได้</p>
<ul>
<li>
<p><strong>การทดลองในบทเรียนนี้:</strong> เมื่อความเคลื่อนไวถูกตรวจพบ บัซเซอร์จะส่งเสียงร้องเพื่อแสดงว่าตัวอุปกรณ์มีการเคลื่อนไหว  </p>
</li>
<li>
<p><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font></p>
<ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูลวัดความเร่ง 3 แกน Grove 3-axis Accelerometer</li>
<li>เคเบิ้ล Grove cable (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)</li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/Gyro.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >การต่อเชื่อมฮาร์ดแวร์</font></p>
<ul>
<li><strong>การต่อกับโมดูล:</strong><ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
</ul>
</li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด</li>
</ul>
</li>
<li>
<p><font size=5;font color=#314B9F >ซอฟแวร์ที่ใช้</font></p>
<ul>
<li>เปิด Arduino IDE  </li>
<li>ดาว์นโหลด <a href="https://github.com/Seeed-Studio/Seeed_Arduino_LIS3DHTR">3-Axis Digital Accelerometer( ±2g to 16g)</a>  จาก Github  คลิ๊กที่ <strong>Sketch</strong> &gt; <strong>Include library</strong> &gt; <strong>Add .ZIP library</strong> import ไลบรารี่ไว้ที่ Arduino IDE  </li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify   เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด ให้ Upload โปรแกรมลงที่บอร์ด  </li>
<li>ในโปรแกรมนี้ ข้อมูลความเร่งถูกส่งจากเซนเซอร์ไปที่บอร์ด Seeeduino โดยใช้บัส I2C จากนั้นบอร์ด Seeeduino พิมพ์ค่าบน serial monitor  &nbsp; เปิด <strong>serial monitor</strong> เพื่อดูผล  </li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Gravity Acceleration</span>
<span class="cp">#include</span> <span class="cpf">&quot;LIS3DHTR.h&quot;</span><span class="cp"></span>
<span class="cp">#ifdef SOFTWAREWIRE</span>
    <span class="cp">#include</span> <span class="cpf">&lt;SoftwareWire.h&gt;</span><span class="cp"></span>
    <span class="n">SoftwareWire</span> <span class="nf">myWire</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">LIS3DHTR</span><span class="o">&lt;</span><span class="n">SoftwareWire</span><span class="o">&gt;</span> <span class="n">LIS</span><span class="p">;</span>       <span class="c1">//Software I2C</span>
    <span class="cp">#define WIRE myWire</span>
<span class="cp">#else</span>
    <span class="cp">#include</span> <span class="cpf">&lt;Wire.h&gt;</span><span class="cp"></span>
    <span class="n">LIS3DHTR</span><span class="o">&lt;</span><span class="n">TwoWire</span><span class="o">&gt;</span> <span class="n">LIS</span><span class="p">;</span>           <span class="c1">//Hardware I2C</span>
    <span class="cp">#define WIRE Wire</span>
<span class="cp">#endif</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span> <span class="p">{};</span>
    <span class="n">LIS</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">WIRE</span><span class="p">,</span> <span class="mh">0x19</span><span class="p">);</span> <span class="c1">//IIC init</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
    <span class="n">LIS</span><span class="p">.</span><span class="n">setOutputDataRate</span><span class="p">(</span><span class="n">LIS3DHTR_DATARATE_50HZ</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">LIS</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;LIS3DHTR didn&#39;t connect.&quot;</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">//3 axis</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;x:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationX</span><span class="p">());</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;y:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationY</span><span class="p">());</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;z:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationZ</span><span class="p">());</span>

    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&quot;LIS3DHTR.h&quot;</span><span class="cp"></span>
<span class="cp">#ifdef SOFTWAREWIRE</span>
    <span class="cp">#include</span> <span class="cpf">&lt;SoftwareWire.h&gt;</span><span class="cp"></span>
    <span class="n">SoftwareWire</span> <span class="nf">myWire</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">LIS3DHTR</span><span class="o">&lt;</span><span class="n">SoftwareWire</span><span class="o">&gt;</span> <span class="n">LIS</span><span class="p">;</span>   <span class="c1">//Software I2C</span>
    <span class="cp">#define WIRE myWire</span>
<span class="cp">#else</span>
    <span class="cp">#include</span> <span class="cpf">&lt;Wire.h&gt;</span><span class="cp"></span>
    <span class="n">LIS3DHTR</span><span class="o">&lt;</span><span class="n">TwoWire</span><span class="o">&gt;</span> <span class="n">LIS</span><span class="p">;</span>        <span class="c1">//Hardware I2C</span>
    <span class="cp">#define WIRE Wire</span>
<span class="cp">#endif</span>
</code></pre></div>

<p>สั่งให้โมดูลเริ่มต้นทำงานโดยใช้ I2C แบบซอท์ฟแวร์ หรือ I2C แบบฮาร์ดแวร์<br />
(แบบซอท์ฟแวร์ คือ ทำงานโดยใช้โปรแกรมเป็นการควบคุมให้สื่อสารแบบ I2C  ในขณะที่ I2C แบบฮาร์ดแวร์ เป็นการใช้ฟังก์ชั่นการทำงานที่มีอยู่บนไมโครคอนโทรลเลอร์  )</p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span> <span class="p">{};</span>
</code></pre></div></p>
<p>โปรแกรมหยุดทำงานที่นี่ หากไม่ได้เปิดหน้าจอ Serial monitor ดังนั้นเปิดซะเพื่อทำงานต่อ  </p>
<p><br/></p>
<div class="highlight"><pre><span></span><code><span class="n">LIS</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">WIRE</span><span class="p">,</span> <span class="mh">0x19</span><span class="p">);</span>
<span class="n">LIS</span><span class="p">.</span><span class="n">setOutputDataRate</span><span class="p">(</span><span class="n">LIS3DHTR_DATARATE_50HZ</span><span class="p">);</span>
</code></pre></div>

<p><strong>ลักษณะการทำงาน:</strong> สั่งเริ่มต้นการทำงานของเซนเซอร์ความเร่ง</p>
<p><strong>Syntax:</strong>
&emsp; <code>LIS.begin(Wire, address)</code>.</p>
<p><strong>Description:</strong>
&emsp; ตั้งค่าอัตราความถี่ของการวัดความเร่ง  </p>
<p><strong>Syntax:</strong>
&emsp; <code>LIS.setOutputDataRate(odr_type_t odr)</code>.</p>
<p>สั่งเริ่มต้นการทำงานของเซนเซอร์ความเร่งและกำหนดให้แสดงค่าในอัตรา 50 ครั้งต่อวินาที (50 Hz)  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;x:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationX</span><span class="p">());</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">);</span>
<span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;y:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationY</span><span class="p">());</span> <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">);</span>
<span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;z:&quot;</span><span class="p">);</span> <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">LIS</span><span class="p">.</span><span class="n">getAccelerationZ</span><span class="p">());</span>
</code></pre></div></p>
<p><strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; ฟังก์ชั่นนี้ใช้เพื่ออ่านค่าความเร่งในแกน X จากเซนเซอร์  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; <strong>LIS.getAccelerationX()</strong> ชนิดข้อมูลที่อ่าน: ทศนิยม (float)  </p>
<p><br/>
<strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; ฟังก์ชั่นนี้ใช้เพื่ออ่านค่าความเร่งในแกน Y จากเซนเซอร์  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp;  <strong>LIS.getAccelerationY()</strong> ชนิดข้อมูลที่อ่าน: ทศนิยม (float)  </p>
<p><br/>
<strong>ลักษณะการทำงาน:</strong></p>
<p>&emsp; ฟังก์ชั่นนี้ใช้เพื่ออ่านค่าความเร่งในแกน Z จากเซนเซอร์  </p>
<p><strong>Syntax:</strong></p>
<p>&emsp; <strong>LIS.getAccelerationZ()</strong> ชนิดข้อมูลที่อ่าน: ทศนิยม (float)</p>
<p>พิมพ์ค่าความเร่งจาก 3 แกนที่อ่านค่าได้ที่ Serial monitor  </p>
<p><strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>แสดงค่าความเร่งทั้ง 3 แกนที่อ่านจากเซนเซอร์ และแสดงค่าใน Serial Monitor  </p>
<p><br/>
- <font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></p>
<p>กรณีที่ได้ตัดแยกโมดูลออกจากตัวบอร์ด Grove Beginner Kit แล้ว ให้ใช้สายเคเบิ้ลของ Grove เพื่อต่อเชื่อมระหว่างโมดูลเซนเซอร์ความเร่ง 3 แกน ไปที่บอร์ด Seeeduino Lotus โดยใช้ <strong>I2C</strong>  (สังเกต: แอดเดรส I2C ของเซนเซอร์คือ 0x19)</p>
<h2 id="bonus-projects">Bonus Projects</h2>
<h3 id="project-1-music-dynamic-rhythm-lamp">Project 1: หลอดไฟสว่างตามเสียงเพลง (Music dynamic rhythm lamp)</h3>
<ul>
<li>
<p><strong>รายละเอียดของโปรเจ็ค:</strong> ในการทดลองนี้เราจะสร้างให้บัซเซอร์สร้างเสียงเพลง และหลอดแอลอีดีกระพริบตามจังหวะ ซึ่งจะเปลี่ยนแปลงตามความถี่และจังหวะของเพลง  </p>
</li>
<li>
<p><font size=5;font color=#314B9F >อุปกรณ์ที่ใช้</font></p>
<ol>
<li>บอร์ด Seeeduino Lotus</li>
<li>โมดูลหลอดแอลอีดี Grove LED</li>
<li>โมดูลบัซเซอร์ Buzzer</li>
<li>เคเบิ้ล Grove Cables (ถ้าแยกตัวโมดูลออกจากบอร์ดแล้ว)  </li>
</ol>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/Grove-Beginner-Kit-For-Arduino/img/project1.png" /></p>
<ul>
<li>
<p><font size=5;font color=#314B9F >Hardware connection</font></p>
<ul>
<li><strong>การต่อเชื่อมฮาร์ดแวร์:</strong><ul>
<li>โมดูลถูกต่อเชื่อมไว้ด้วยลายวงจรบนบอร์ดอยู่แล้ว  </li>
</ul>
</li>
<li>บอร์ด Seeeduino เชื่อมต่อเข้ากับ PC โดยใช้สาย USB ที่ให้ในชุด  </li>
</ul>
</li>
<li>
<p><font size=5;font color=#314B9F >ซอฟแวร์ที่ใช้</font></p>
<ul>
<li>เปิด Arduino IDE  </li>
<li>ก็อบปี้โปรแกรมด้านล่างนี้ จากนั้นคลิ๊กปุ่ม Verify   เมื่อ Arduino IDE แสดงว่าไม่มีข้อผิดพลาด ให้ Upload โปรแกรมลงที่บอร์ด  </li>
</ul>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">//Music Dynamic Rhythm Lamp</span>
<span class="cp">#define NTD0 -1</span>
<span class="cp">#define NTD1 294</span>
<span class="cp">#define NTD2 330</span>
<span class="cp">#define NTD3 350</span>
<span class="cp">#define NTD4 393</span>
<span class="cp">#define NTD5 441</span>
<span class="cp">#define NTD6 495</span>
<span class="cp">#define NTD7 556</span>

<span class="cp">#define NTDL1 147</span>
<span class="cp">#define NTDL2 165</span>
<span class="cp">#define NTDL3 175</span>
<span class="cp">#define NTDL4 196</span>
<span class="cp">#define NTDL5 221</span>
<span class="cp">#define NTDL6 248</span>
<span class="cp">#define NTDL7 278</span>

<span class="cp">#define NTDH1 589</span>
<span class="cp">#define NTDH2 661</span>
<span class="cp">#define NTDH3 700</span>
<span class="cp">#define NTDH4 786</span>
<span class="cp">#define NTDH5 882</span>
<span class="cp">#define NTDH6 990</span>
<span class="cp">#define NTDH7 112</span>

<span class="cp">#define WHOLE 1</span>
<span class="cp">#define HALF 0.5</span>
<span class="cp">#define QUARTER 0.25</span>
<span class="cp">#define EIGHTH 0.25</span>
<span class="cp">#define SIXTEENTH 0.625</span>

<span class="kt">int</span> <span class="n">tune</span><span class="p">[]</span><span class="o">=</span>
<span class="p">{</span>
<span class="n">NTD3</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD5</span><span class="p">,</span>
<span class="n">NTD5</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span>
<span class="n">NTD1</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span>
<span class="n">NTD3</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span>
<span class="n">NTD3</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD5</span><span class="p">,</span>
<span class="n">NTD5</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span>
<span class="n">NTD1</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span>
<span class="n">NTD2</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span>
<span class="n">NTD2</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span>
<span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span>
<span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span>
<span class="n">NTD1</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTDL5</span><span class="p">,</span><span class="n">NTD0</span><span class="p">,</span>
<span class="n">NTD3</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD5</span><span class="p">,</span>
<span class="n">NTD5</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span><span class="n">NTD4</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span>
<span class="n">NTD1</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span><span class="n">NTD2</span><span class="p">,</span><span class="n">NTD3</span><span class="p">,</span>
<span class="n">NTD2</span><span class="p">,</span><span class="n">NTD1</span><span class="p">,</span><span class="n">NTD1</span>
<span class="p">};</span>

<span class="kt">float</span> <span class="n">durt</span><span class="p">[]</span><span class="o">=</span>
<span class="p">{</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">1</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">length</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">tonepin</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">ledp</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">tonepin</span><span class="p">,</span><span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">ledp</span><span class="p">,</span><span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">length</span><span class="o">=</span><span class="k">sizeof</span><span class="p">(</span><span class="n">tune</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">tune</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">x</span><span class="o">&lt;</span><span class="n">length</span><span class="p">;</span><span class="n">x</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">tone</span><span class="p">(</span><span class="n">tonepin</span><span class="p">,</span><span class="n">tune</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledp</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">400</span><span class="o">*</span><span class="n">durt</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledp</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">durt</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
    <span class="n">noTone</span><span class="p">(</span><span class="n">tonepin</span><span class="p">);</span>

  <span class="p">}</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">4000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<ul>
<li><font size=5;font color=#314B9F >อธิบายการทำงานของโค้ด</font>
<br/>
<div class="highlight"><pre><span></span><code><span class="cp">#define NTD</span>
</code></pre></div>
ให้นิยามค่าความถี่ของโน้ต ซึ่งแบ่งออกเป็น base/alto/treble  </li>
</ul>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="cp">#define WHOLE 1</span>
<span class="cp">#define HALF 0.5</span>
<span class="cp">#define QUARTER 0.25</span>
<span class="cp">#define EIGHTH 0.25</span>
<span class="cp">#define SIXTEENTH 0.625</span>
</code></pre></div></p>
<p>สังเกต: จังหวะ (rhythm) แบ่งแยกออกเป็น 1 จังหวะ ครึ่งจังหวะ  &frac14; จังหวะ  และ &#8539; จังหวะ  เราสามารถกำหนดให้จังหวะของโน้ตเป็น 1 เต็ม หรือ ครึ่งจังหวะ หรือ &frac14; จังหวะ หรือ &#8539; จังหวะได้  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="n">tune</span><span class="p">[]</span><span class="o">=</span><span class="p">...</span>
</code></pre></div></p>
<p>รายการของความถี่ของเสียงของเพลงที่เล่น  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="kt">float</span> <span class="n">durt</span><span class="p">[]</span><span class="o">=</span><span class="p">...</span>
</code></pre></div>
รายการของจังหวะของเสียงของเพลงที่เล่น  </p>
<p><br/>
<div class="highlight"><pre><span></span><code><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">durt</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
</code></pre></div>
ควบคุมการเปิดปิดของหลอดแอลอีดี  </p>
<p><br/>
<strong>ผลการทำงานของบอร์ด และการแสดงใน Serial Print:</strong></p>
<p>&emsp; บัซเซอร์จะส่งเสียงตามความถี่ที่กำหนด ในขณะที่หลอดแอลอีดีจะกระพริบด้วยความถี่ที่กำหนด  </p>
<p><br/>
- <font size=5;font color=#314B9F >หากตัดแยกโมดูลออกจากบอร์ดแล้ว</font></p>
<p>&emsp; เชื่อมต่อระหว่างโมดูลหลอดแอลอีดีและบอร์ด Seeeduino Lotus โดยใช้ pin แบบดิจิทัล <strong>D4</strong> และเชื่อมต่อกับโมดูลบัซเซอรโดยใช้ pin แบบดิจิทัล <strong>D5</strong>   </p>
<p><br/><br />
<br/><br />
<br/>  </p>
<h1 id="_5">ทดสอบ</h1>
<div>
<div class="MathJax_Preview">
\frac{n!}{k!(n-k)!} = \binom{n}{k}
</div>
<script type="math/tex; mode=display">
\frac{n!}{k!(n-k)!} = \binom{n}{k}
</script>
</div>
<p>Lorem ipsum<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> dolor sit amet, consectetur adipiscing elit<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>.</p>
<h2 id="commands">Commands</h2>
<ul>
<li><code>mkdocs new [dir-name]</code> - Create a new project.</li>
<li><code>mkdocs serve</code> - Start the live-reloading docs server.</li>
<li><code>mkdocs build</code> - Build the documentation site.</li>
<li><code>mkdocs -h</code> - Print help message and exit.</li>
</ul>
<h2 id="project-layout">Project layout แผนภาพโครงการ</h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">mkdocs.yml    # The configuration file.</span>
<span class="err">docs/</span>
<span class="err">    index.md  # The documentation homepage.</span>
<span class="err">    ...       # Other markdown pages, images and other files.</span>
</code></pre></div>
</td></tr></table>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><em>Reference: <a href="https://www.arduino.cc/en/tutorial/PWM">Arduino</a></em>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
        
          <a href="License/" title="License" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                License
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="javascripts/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>